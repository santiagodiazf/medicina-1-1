<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Física Bloque 3 (201-300)</title>
    <style>
        :root {
            --primary: #512da8; /* Deep Purple */
            --secondary: #d1c4e9;
            --accent: #673ab7;
            --success: #388e3c;
            --error: #d32f2f;
            --text: #212121;
            --bg-color: #f3e5f5;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding-top: 110px;
            padding-bottom: 60px;
        }

        /* HEADER FIJO */
        #header-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, #311b92, #512da8);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
        }

        .header-content {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 { margin: 0; font-size: 1.4rem; font-weight: 700; letter-spacing: 0.5px; }
        
        .score-board {
            background: rgba(0,0,0,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        /* PROGRESS BAR */
        #progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.2);
            margin-top: 10px;
        }
        #progress-fill {
            height: 100%;
            background: #b39ddb;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* CONTAINER */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* CARD */
        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 6px solid transparent;
            transition: transform 0.2s;
        }

        .card:hover { transform: translateY(-2px); }
        .card.correct { border-left-color: var(--success); }
        .card.incorrect { border-left-color: var(--error); }

        .question-header {
            font-size: 0.85rem;
            color: #7e57c2;
            text-transform: uppercase;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #263238;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        /* OPTIONS */
        .options-grid {
            display: grid;
            gap: 10px;
        }

        .option-btn {
            background: #fff;
            border: 2px solid #d1c4e9;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            color: var(--text);
            transition: all 0.2s;
            position: relative;
        }

        .option-btn:hover:not(.disabled) {
            border-color: var(--accent);
            background-color: #ede7f6;
        }

        .option-btn.correct {
            background-color: #e8f5e9;
            border-color: var(--success);
            color: #1b5e20;
            font-weight: 600;
        }

        .option-btn.incorrect {
            background-color: #ffebee;
            border-color: var(--error);
            color: #b71c1c;
        }

        .option-btn.disabled {
            cursor: default;
            opacity: 0.7;
        }

        /* FEEDBACK */
        .feedback {
            margin-top: 20px;
            padding: 15px;
            background-color: #ede7f6;
            border-radius: 6px;
            border: 1px solid #b39ddb;
            color: #4527a0;
            font-size: 0.95rem;
            display: none;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* RESET BUTTON */
        .btn-reset {
            display: block;
            width: 200px;
            margin: 40px auto;
            padding: 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(81,45,168,0.3);
        }
        .btn-reset:hover { background: #4527a0; }

    </style>
</head>
<body>

    <div id="header-bar">
        <div class="header-content">
            <h1>Física Bloque 3 (201-300)</h1>
            <div class="score-board">
                <span id="score">0</span> / <span id="total">0</span>
            </div>
        </div>
        <div id="progress-container">
            <div id="progress-fill"></div>
        </div>
    </div>

    <div class="container" id="quiz-container">
        </div>

    <div class="container">
        <button class="btn-reset" onclick="location.reload()">Reiniciar Test</button>
    </div>

    <script>
        const questionsDB = [
            {id: "201", q: "El periodo de una onda:", opts: {a:"Es el espacio...", b:"Es el tiempo que tarda en completar un ciclo", c:"Dividido por 2pi...", d:"Ninguna"}, ans: "b", note: "Definición de Periodo (T)."},
            {id: "202", q: "f=10Hz, L=3m. Velocidad:", opts: {a:"10/3", b:"10", c:"3", d:"30 m/s"}, ans: "d", note: "v = f * L = 10 * 3 = 30."},
            {id: "203", q: "L=3m, v=3m/s. Frecuencia:", opts: {a:"1 Hz", b:"1 Rad/s", c:"1 m"}, ans: "a", note: "f = v / L = 1."},
            {id: "204", q: "Las ondas mecánicas se propagan:", opts: {a:"Vacío", b:"En un medio material", c:"...", d:"..."}, ans: "b", note: "Necesitan soporte físico."},
            {id: "205", q: "Razón longitud onda / periodo:", opts: {a:"Número", b:"Frecuencia", c:"Angular", d:"La velocidad de propagación de la onda"}, ans: "d", note: "v = L/T."},
            {id: "206", q: "Intensidad en medio disipativo:", opts: {a:"Constante", b:"Decrece exponencialmente con la distancia", c:"Cuadrado", d:"Anula"}, ans: "b", note: "Atenuación."},
            {id: "207", q: "Ondas sonoras son:", opts: {a:"Transversales", b:"Ondas longitudinales de presión que se propagan por el aire", c:"Estacionarias", d:"EM"}, ans: "b", note: "Compresión/Rarefacción."},
            {id: "208", q: "En todo movimiento ondulatorio:", opts: {a:"Materia", b:"Se propaga siempre energía", c:"Medio material (Falso para EM)", d:"a y c"}, ans: "b", note: "La característica universal es transporte de energía sin transporte neto de materia."},
            {id: "209", q: "Ondas estacionarias (Nodo-Vientre):", opts: {a:"Lambda", b:"1/2 L", c:"1/3 L", d:"1/4 Lambda"}, ans: "d", note: "Nodo-Nodo = L/2. Nodo-Vientre = L/4."},
            {id: "210", q: "Al pasar a otro medio, permanece invariable:", opts: {a:"Velocidad", b:"Su frecuencia", c:"Longitud", d:"Atenuación"}, ans: "b", note: "La frecuencia depende de la fuente."},
            {id: "211", q: "Intensidad relativa se mide en:", opts: {a:"Erizos", b:"W/m2", c:"Decibelios", d:"Metros"}, ans: "c", note: "Escala logarítmica."},
            {id: "212", q: "Coeficiente de absorción:", opts: {a:"...", b:"...", c:"1/cm (cm^-1)", d:"dB"}, ans: "c", note: "Inverso de longitud."},
            {id: "213", q: "Afirmación cierta:", opts: {a:"Todas las ondas son movimientos ondulatorios", b:"Todos los mov ondulatorios son ondas", c:"...", d:"..."}, ans: "a", note: "Tautología física básica."},
            {id: "214", q: "Concordancia de fase (fase igual):", opts: {a:"Están separados por una distancia igual a la longitud de la onda (o múltiplo)", b:"Mitad", c:"...", d:"..."}, ans: "a", note: "Repetición espacial."},
            {id: "215", q: "Energía por unidad de tiempo y superficie:", opts: {a:"Potencia", b:"Intensidad de la onda", c:"Energía", d:"Coeficiente"}, ans: "b", note: "I = P/S."},
            {id: "216", q: "Principio focos secundarios:", opts: {a:"Principio de Huygens", b:"Doppler", c:"...", d:"..."}, ans: "a", note: "Propagación de ondas."},
            {id: "217", q: "Ecuación y=A sen(2pi(t/T - x/L)):", opts: {a:"...", b:"...", c:"El movimiento ondulatorio", d:"..."}, ans: "c", note: "Ecuación de onda armónica."},
            {id: "218", q: "Intensidad inversamente proporcional a:", opts: {a:"Amplitud", b:"Distancia", c:"Cuadrado Amplitud (Directo)", d:"El cuadrado de la distancia"}, ans: "d", note: "Ley del inverso del cuadrado (Ondas esféricas)."},
            {id: "219", q: "Medio disipativo:", opts: {a:"...", b:"El medio absorbe parte de la energía que la onda transmite", c:"...", d:"..."}, ans: "b", note: "Transforma energía en calor."},
            {id: "220", q: "Onda paso medio a otro (Energía):", opts: {a:"Cte", b:"No", c:"Parte se transmite y parte se refleja", d:"..."}, ans: "c", note: "Fenómenos de frontera."},
            {id: "221", q: "FALSA:", opts: {a:"Propaga energía (V)", b:"Frente onda fase (V)", c:"Las ondas no propagan energía", d:"Periodicidad (V)"}, ans: "c", note: "Contradice definición."},
            {id: "222", q: "Ondas planas, frentes son:", opts: {a:"Planos", b:"Rectos", c:"Esféricos", d:"..."}, ans: "a", note: "Superficies planas."},
            {id: "223", q: "Propagación más rápida:", opts: {a:"Aire", b:"Agua", c:"Sólidos", d:"..."}, ans: "c", note: "Elasticidad > Densidad."},
            {id: "224", q: "Oreja parte de:", opts: {a:"Oído externo", b:"...", c:"...", d:"..."}, ans: "a", note: "Pabellón."},
            {id: "225", q: "Frecuencias recogidas en:", opts: {a:"La membrana basilar", b:"...", c:"...", d:"..."}, ans: "a", note: "Tonotopía."},
            {id: "226", q: "Oído medio limitado por cóclea y:", opts: {a:"...", b:"...", c:"El tímpano", d:"..."}, ans: "c", note: "Límite lateral."},
            {id: "227", q: "Vibraciones ventana oval a nerviosas en:", opts: {a:"...", b:"...", c:"...", d:"La cóclea"}, ans: "d", note: "Transducción."},
            {id: "228", q: "Voz aguda:", opts: {a:"...", b:"...", c:"Produce sonidos de mayor frecuencia", d:"..."}, ans: "c", note: "Agudo = Alta Frecuencia."},
            {id: "229", q: "Duplicar frecuencia:", opts: {a:"Un tono más agudo (Una octava)", b:"...", c:"...", d:"..."}, ans: "a", note: "Relación tonal."},
            {id: "230", q: "Tono distingue:", opts: {a:"...", b:"...", c:"...", d:"Agudos y graves"}, ans: "d", note: "Cualidad de altura."},
            {id: "231", q: "Función oído:", opts: {a:"...", b:"...", c:"Convertir las ondas sonoras en impulsos eléctricos", d:"..."}, ans: "c", note: "Transductor biológico."},
            {id: "232", q: "Oído externo fin:", opts: {a:"Tímpano", b:"...", c:"El tímpano", d:"..."}, ans: "a", note: "Membrana timpánica."},
            {id: "233", q: "Huesecillos:", opts: {a:"Yunque", b:"...", c:"...", d:"..."}, ans: "a", note: "Martillo, Yunque, Estribo."},
            {id: "234", q: "Instrumentos distintos misma nota:", opts: {a:"Tono", b:"Intensidad", c:"Timbre", d:"Sonoridad"}, ans: "c", note: "Armónicos."},
            {id: "235", q: "Umbral sensación desagradable (dolor):", opts: {a:"...", b:"...", c:"...", d:"Prácticamente independiente de la frecuencia"}, ans: "d", note: "A diferencia del umbral de audición que depende mucho de f."},
            {id: "236", q: "Nivel de intensidad:", opts: {a:"Fonos", b:"Sones", c:"Mels", d:"Decibelios"}, ans: "d", note: "Magnitud física relativa."},
            {id: "237", q: "Doble sones:", opts: {a:"...", b:"...", c:"Doble sonoridad", d:"..."}, ans: "c", note: "Escala lineal subjetiva."},
            {id: "238", q: "10^-4 vs 10^-6 (Dif 100x = 20dB):", opts: {a:"...", b:"...", c:"...", d:"(Pregunta de percepción, +20dB es 4 veces más sonoro en sones, pero físicamente es 100 veces más intenso. Opciones a/b no cuadran. Probablemente buscaba 'Más intenso')."}, ans: "a", note: "Seguramente quiere decir 'Más intenso' (100 veces)."},
            {id: "239", q: "Aumento presión oído medio:", opts: {a:"...", b:"Palanca", c:"Área", d:"La b y la c"}, ans: "d", note: "Mecanismo de ajuste impedancia."},
            {id: "240", q: "Relación impedancias 3249. Aumento P:", opts: {a:"...", b:"...", c:"Aumentará 57 veces (Raíz de 3249)", d:"..."}, ans: "c", note: "T = 2Z2/(Z1+Z2). P se incrementa para compensar. Raíz cuadrada de relación Z."},
            {id: "241", q: "-10 dB:", opts: {a:"...", b:"No es audible", c:"...", d:"..."}, ans: "b", note: "Bajo umbral."},
            {id: "242", q: "Sensación sonora (Nivel de sonoridad):", opts: {a:"...", b:"...", c:"Fonos", d:"..."}, ans: "c", note: "Curvas isofónicas."},
            {id: "243", q: "1000 Hz y 40 dB:", opts: {a:"40 fonos", b:"...", c:"...", d:"..."}, ans: "a", note: "Definición fono."},
            {id: "244", q: "Posición deformación cóclea:", opts: {a:"...", b:"...", c:"La frecuencia de la onda", d:"..."}, ans: "c", note: "Tonotopía."},
            {id: "245", q: "Agudeza subjetiva (Tono):", opts: {a:"Son", b:"El Mel", c:"Fon", d:"..."}, ans: "b", note: "Escala Mel."},
            {id: "246", q: "Impedancia acústica (Z=rho*v):", opts: {a:"Densidad", b:"Velocidad", c:"...", d:"La b y la a"}, ans: "d", note: "Producto densidad x velocidad."},
            {id: "247", q: "Resonancia conducto (L=lambda/4):", opts: {a:"...", b:"...", c:"4 veces la del oído (longitud conducto)", d:"..."}, ans: "c", note: "Lambda = 4L."},
            {id: "248", q: "Oído medio:", opts: {a:"Actúa como acoplador de impedancias", b:"...", c:"...", d:"a y b son ciertas"}, ans: "a", note: "Función principal."},
            {id: "249", q: "10 dB y 1000 Hz:", opts: {a:"Es audible", b:"No", c:"...", d:"..."}, ans: "a", note: "Umbral es 0 dB."},
            {id: "250", q: "Transmisión graves/agudos:", opts: {a:"Los sonidos graves se transmiten mejor (menos atenuación/difracción)", b:"...", c:"...", d:"..."}, ans: "a", note: "Agudos se atenúan más."},
            {id: "251", q: "Umbral dolor:", opts: {a:"130", b:"110", c:"120 dB", d:"..."}, ans: "c", note: "Rango típico."},
            {id: "252", q: "Conducto auditivo actúa:", opts: {a:"...", b:"Amplificador de ondas sonoras (Resonancia)", c:"...", d:"..."}, ans: "b", note: "Resuena a 3-4 kHz."},
            {id: "253", q: "Órgano de Corti situado sobre:", opts: {a:"...", b:"...", c:"...", d:"Membrana basilar"}, ans: "d", note: "Anatomía."},
            {id: "254", q: "Afirmación dudosa:", opts: {a:"...", b:"...", c:"Lo que caracteriza notas es intensidad (Falso)", d:"..."}, ans: "c", note: "Notas se caracterizan por frecuencia."},
            {id: "255", q: "Falso influye:", opts: {a:"Denso", b:"Compresivo", c:"...", d:"Transparente a la luz visible"}, ans: "d", note: "Propiedad óptica irrelevante."},
            {id: "256", q: "Cualidad nota:", opts: {a:"...", b:"...", c:"Tono", d:"..."}, ans: "c", note: "Frecuencia fundamental."},
            {id: "257", q: "Falsa:", opts: {a:"...", b:"...", c:"...", d:"Caracteriza notas es intensidad"}, ans: "d", note: "Repetida."},
            {id: "258", q: "Biaural no influye:", opts: {a:"Fase", b:"Intensidad", c:"La musicalidad del sonido", d:"..."}, ans: "c", note: "Estética no física."},
            {id: "259", q: "Velocidad sangre:", opts: {a:"...", b:"...", c:"Ecografía Doppler", d:"..."}, ans: "c", note: "Efecto Doppler."},
            {id: "260", q: "Funcionalismo cardiaco:", opts: {a:"...", b:"...", c:"Ecografía TM", d:"..."}, ans: "c", note: "Modo M."},
            {id: "261", q: "Sonido vs Ultrasonido:", opts: {a:"...", b:"...", c:"Son movimientos ondulatorios de distinta frecuencia", d:"..."}, ans: "c", note: "Límite 20 kHz."},
            {id: "262", q: "Producción US:", opts: {a:"Efecto piezoeléctrico", b:"...", c:"...", d:"..."}, ans: "a", note: "Cristales."},
            {id: "263", q: "Eco B (Scan):", opts: {a:"...", b:"Mueve", c:"Brillo", d:"La b y c"}, ans: "d", note: "Barrido + Brillo."},
            {id: "264", q: "Eco TM:", opts: {a:"Determinar la posición variable de un obstáculo que se supone en movimiento", b:"...", c:"...", d:"..."}, ans: "a", note: "Tiempo-Movimiento."},
            {id: "265", q: "Gel acoplamiento:", opts: {a:"Disminuir la reflexión y aumentar la transmisión", b:"...", c:"...", d:"..."}, ans: "a", note: "Eliminar aire (Z muy baja)."},
            {id: "266", q: "Doppler determina:", opts: {a:"...", b:"La velocidad de la sangre", c:"...", d:"..."}, ans: "b", note: "Flujo."},
            {id: "267", q: "Terapéutica US:", opts: {a:"Térmica", b:"Dinámica", c:"...", d:"La a y la b"}, ans: "d", note: "Calor y micromasaje."},
            {id: "268", q: "Base diagnóstica US:", opts: {a:"...", b:"...", c:"El fenómeno del eco (Reflexión)", d:"..."}, ans: "c", note: "Rebote."},
            {id: "269", q: "A-Mode interfases:", opts: {a:"...", b:"...", c:"Deflexiones verticales (Picos)", d:"..."}, ans: "c", note: "Amplitud."},
            {id: "270", q: "TM determinamos:", opts: {a:"La variación de la posición de una estructura a lo largo del tiempo", b:"...", c:"...", d:"..."}, ans: "a", note: "Definición."},
            {id: "271", q: "Doppler haz:", opts: {a:"Continuo", b:"Pulsado", c:"...", d:"..."}, ans: "b", note: "En imagen diagnóstica es pulsado (PW). (CW existe pero PW es el estándar de imagen)."},
            {id: "272", q: "B-Mode interfases:", opts: {a:"...", b:"Puntos luminosos", c:"...", d:"..."}, ans: "b", note: "Brillo."},
            {id: "273", q: "Observador se dirige a fuente:", opts: {a:"...", b:"...", c:"Mayor que la frecuencia emitida", d:"..."}, ans: "c", note: "Acercamiento = Agudo = Mayor f."},
            {id: "274", q: "Reflexiones importantes:", opts: {a:"Impedancias muy distintas", b:"...", c:"...", d:"..."}, ans: "a", note: "Coeficiente reflexión alto."},
            {id: "275", q: "Intensidad medio disipativo:", opts: {a:"...", b:"...", c:"Decrece exponencialmente", d:"..."}, ans: "c", note: "Atenuación."},
            {id: "276", q: "Sonda empleada:", opts: {a:"...", b:"La misma sonda para la emisión y captación", c:"...", d:"..."}, ans: "b", note: "Pulsado."},
            {id: "277", q: "Imagen Doppler se debe a:", opts: {a:"...", b:"Variación frecuencia movimiento objeto", c:"...", d:"..."}, ans: "b", note: "Shift Doppler."},
            {id: "278", q: "Resolución longitudinal:", opts: {a:"Mínima distancia entre dos objetos que se ven en la pantalla como dos ecos diferentes (en eje haz)", b:"...", c:"...", d:"..."}, ans: "a", note: "Axial."},
            {id: "279", q: "Frecuencia alta:", opts: {a:"Más directividad y menos divergencia", b:"...", c:"...", d:"..."}, ans: "a", note: "Haz más estrecho."},
            {id: "280", q: "Transductor:", opts: {a:"Traducir la magnitud que recoge la variable biológica (a eléctrica)", b:"...", c:"...", d:"..."}, ans: "a", note: "Conversión energía."},
            {id: "281", q: "Coche cruza:", opts: {a:"...", b:"...", c:"...", d:"Es más grave al alejarse que al acercarse"}, ans: "d", note: "Doppler clásico."},
            {id: "282", q: "Acople impedancia necesario:", opts: {a:"Al usar microelectrodos", b:"...", c:"...", d:"..."}, ans: "a", note: "Alta impedancia de salida del electrodo requiere alta entrada en amp."},
            {id: "283", q: "NO acoplador:", opts: {a:"Microelectrodo", b:"Transformador (Sí)", c:"Seguidor (Sí)", d:"..."}, ans: "a", note: "El microelectrodo es el sensor, no el acoplador."},
            {id: "284", q: "Acoplar receptor tensión:", opts: {a:"Impedancia entrada receptor MAYOR que salida generador", b:"...", c:"...", d:"..."}, ans: "a", note: "Para máxima transferencia de tensión (no potencia)."},
            {id: "285", q: "Necesario transductor:", opts: {a:"EEG (No, electrodos)", b:"Flujo venoso", c:"...", d:"..."}, ans: "b", note: "Magnitud no eléctrica."},
            {id: "286", q: "Índice refracción:", opts: {a:"n=C/V", b:"...", c:"...", d:"..."}, ans: "a", note: "Velocidad luz vacío / medio."},
            {id: "287", q: "Falso efecto US:", opts: {a:"...", b:"...", c:"...", d:"Disminución de temperatura"}, ans: "d", note: "Produce calor, no frío."},
            {id: "288", q: "Prueba cabezal:", opts: {a:"...", b:"...", c:"Gota de agua", d:"..."}, ans: "c", note: "Nebulización."},
            {id: "289", q: "No perciben US:", opts: {a:"...", b:"El hombre", c:"...", d:"..."}, ans: "b", note: "Límite 20kHz."},
            {id: "290", q: "Material inicial:", opts: {a:"...", b:"...", c:"Cuarzo", d:"..."}, ans: "c", note: "Curie."},
            {id: "291", q: "Resistencia atravesar:", opts: {a:"Impedancia acústica", b:"...", c:"...", d:"..."}, ans: "a", note: "Z."},
            {id: "292", q: "Terapéutica superficial:", opts: {a:"3 MHz", b:"...", c:"1 MHz (Profundo)", d:"..."}, ans: "a", note: "Alta frecuencia = Poca penetración."},
            {id: "293", q: "Reflejo Doppler sangre:", opts: {a:"...", b:"...", c:"...", d:"Los hematíes"}, ans: "d", note: "Células rojas."},
            {id: "294", q: "Frecuencia disminuye cuando:", opts: {a:"Se alejan", b:"...", c:"Se acercan (Aumenta)", d:"..."}, ans: "a", note: "Doppler alejamiento."},
            {id: "295", q: "Na+ membrana:", opts: {a:"...", b:"...", c:"...", d:"La a y la b (Entrar por ambos)"}, ans: "d", note: "Entrar."},
            {id: "296", q: "K+ membrana:", opts: {a:"...", b:"...", c:"...", d:"La a y la b (Fuerzas opuestas)"}, ans: "d", note: "Equilibrio dinámico."},
            {id: "297", q: "Velocidad mielina:", opts: {a:"...", b:"...", c:"...", d:"A una disminución de la resistencia intracelular (No, es capacidad. Revisar opción b del bloque anterior. Aquí d es la menos mala si se refiere a aislamiento o saltatoria, pero estrictamente es capacidad. Si d es 'disminución capacitancia' sería correcto. Asumiendo 'd' por descarte de las otras que no tienen sentido)"}, ans: "d", note: "Aunque la explicación física es capacitancia, en tests antiguos a veces usan terminología confusa. Saltatoria es la clave."},
            {id: "298", q: "Pico AP (+30mV). Na entrando?", opts: {a:"...", b:"El sodio tiende a entrar", c:"...", d:"..."}, ans: "b", note: "A +30, Na (+60) sigue queriendo entrar (poco), K (-90) quiere salir mucho. Repetida."},
            {id: "299", q: "Nervios mielínicos:", opts: {a:"Avance rápido", b:"...", c:"...", d:"Las tres anteriores"}, ans: "a", note: "Conducción rápida."},
            {id: "300", q: "Transmisión información:", opts: {a:"Eléctrico", b:"...", c:"Eléctrico", d:"Ondulatorio"}, ans: "a", note: "Señales eléctricas."}
        ];

        // LÓGICA
        const quizContainer = document.getElementById('quiz-container');
        const scoreSpan = document.getElementById('score');
        const totalSpan = document.getElementById('total');
        const progressFill = document.getElementById('progress-fill');
        
        let score = 0;
        let answeredCount = 0;

        function renderQuiz() {
            totalSpan.textContent = questionsDB.length;

            questionsDB.forEach((q) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.id = `q-${q.id}`;

                const header = document.createElement('div');
                header.className = 'question-header';
                header.textContent = `Pregunta ${q.id}`;
                card.appendChild(header);

                const text = document.createElement('div');
                text.className = 'question-text';
                text.textContent = q.q;
                card.appendChild(text);

                const grid = document.createElement('div');
                grid.className = 'options-grid';

                for (const [key, value] of Object.entries(q.opts)) {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `<strong>${key.toUpperCase()})</strong> ${value}`;
                    btn.onclick = () => checkAnswer(q, key, btn, card, grid);
                    grid.appendChild(btn);
                }
                card.appendChild(grid);

                const feedback = document.createElement('div');
                feedback.className = 'feedback';
                feedback.innerHTML = `<strong>Respuesta Correcta: ${q.ans.toUpperCase()}</strong><br>${q.note}`;
                card.appendChild(feedback);

                quizContainer.appendChild(card);
            });
        }

        function checkAnswer(question, selected, btn, card, grid) {
            if (card.dataset.answered) return;
            card.dataset.answered = 'true';
            answeredCount++;

            const allBtns = grid.querySelectorAll('.option-btn');
            const feedback = card.querySelector('.feedback');

            allBtns.forEach(b => b.classList.add('disabled'));

            if (selected === question.ans) {
                score++;
                btn.classList.add('correct');
                card.classList.add('correct');
            } else {
                btn.classList.add('incorrect');
                card.classList.add('incorrect');
                allBtns.forEach(b => {
                    if (b.innerText.startsWith(question.ans.toUpperCase() + ')')) {
                        b.classList.add('correct');
                    }
                });
            }

            feedback.style.display = 'block';
            scoreSpan.textContent = score;
            const progress = (answeredCount / questionsDB.length) * 100;
            progressFill.style.width = `${progress}%`;
        }

        renderQuiz();

    </script>
</body>
</html>