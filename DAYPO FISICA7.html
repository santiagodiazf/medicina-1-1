<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Radiaciones - Modo Estudio</title>
    <style>
        :root {
            --primary: #e74c3c; /* Color temático rojo/aviso radiación */
            --secondary: #fdfefe;
            --text: #34495e;
            --correct-bg: #d4edda;
            --correct-text: #155724;
            --incorrect-bg: #f8d7da;
            --incorrect-text: #721c24;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f3f4;
            color: var(--text);
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1 { margin: 0; font-size: 2.2em; letter-spacing: 1px; }
        .subtitle { font-size: 1em; opacity: 0.9; margin-top: 10px; font-weight: 300; }

        .card {
            background: white;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-left: 5px solid var(--primary);
            transition: transform 0.2s;
        }
        
        .q-text {
            font-weight: 700;
            font-size: 1.15em;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .options-list {
            list-style: none;
            padding: 0;
            display: grid;
            gap: 10px;
        }

        .option {
            padding: 15px;
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .option:hover:not(.disabled) {
            background-color: #fadbd8; /* Ligero tono rojo al pasar */
            border-color: #f1948a;
            transform: translateX(5px);
        }

        /* Estados de respuesta */
        .option.correct {
            background-color: var(--correct-bg);
            border-color: #c3e6cb;
            color: var(--correct-text);
            font-weight: 600;
        }
        .option.correct::after {
            content: "✓";
            position: absolute;
            right: 15px;
            font-weight: bold;
        }

        .option.incorrect {
            background-color: var(--incorrect-bg);
            border-color: #f5c6cb;
            color: var(--incorrect-text);
            opacity: 0.8;
        }
        .option.incorrect::after {
            content: "✕";
            position: absolute;
            right: 15px;
            font-weight: bold;
        }

        .disabled {
            pointer-events: none;
            cursor: default;
        }

        /* Caja de Explicación */
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #fff5f5;
            border-top: 3px solid var(--primary);
            border-radius: 0 0 8px 8px;
            font-size: 0.95em;
            color: #c0392b;
            animation: slideDown 0.3s ease-out;
        }
        
        .explanation strong {
            display: block;
            margin-bottom: 5px;
            text-transform: uppercase;
            font-size: 0.8em;
            letter-spacing: 1px;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn-reset {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            margin: 50px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: background 0.3s;
        }
        .btn-reset:hover { background-color: #922b21; }

    </style>
</head>
<body>

<header>
    <h1>Test Radiaciones e Isótopos</h1>
    <div class="subtitle">FM Shark Crew | Física Médica</div>
</header>

<div id="quiz-container"></div>

<button class="btn-reset" onclick="window.scrollTo(0,0); location.reload()">⟳ Barajar y Reiniciar Test</button>

<script>
    /* Base de datos de preguntas procesada.
       'correctIndex' indica la posición (0,1,2,3) de la respuesta correcta dentro del array 'options'.
    */
    const quizData = [
        {
            q: "¿Cuál de las siguientes parejas “tipo de radiación Ionizante/composición” es INCORRECTA?",
            options: [
                "Radiación beta positiva / protones",
                "Radiación alfa / Núcleos de Helio",
                "Radiación beta negativa / electrones",
                "Radiación X / fotones"
            ],
            correctIndex: 0,
            expl: "La radiación beta positiva está compuesta por positrones (antielectrones), no por protones."
        },
        {
            q: "De las siguientes características, ¿cuál NO es propia de los RX?",
            options: [
                "Poseen carga negativa",
                "Son capaces de ionizar gases",
                "Pueden producir fluorescencia",
                "Se propagan en línea recta a la velocidad de la luz"
            ],
            correctIndex: 0,
            expl: "Los Rayos X son ondas electromagnéticas (fotones), por lo tanto no tienen masa ni carga eléctrica."
        },
        {
            q: "¿Cuándo será más penetrante una radiación ionizante?",
            options: [
                "Cuanto menor sea el coeficiente de atenuación lineal del absorbente",
                "Cuanto menor sea la energía de la radiación",
                "Cuanto mayor sea la carga y la masa de la radiación",
                "Cuanto menor sea la capa hemirreductora"
            ],
            correctIndex: 0,
            expl: "Un coeficiente de atenuación bajo significa que el material frena poco la radiación, por lo que esta penetra más."
        },
        {
            q: "¿Qué mecanismo atómico de absorción predomina con radiaciones de bajas energías?",
            options: [
                "Efecto fotoeléctrico",
                "Efecto Compton",
                "Efecto de formación de pares",
                "Efecto piezoeléctrico"
            ],
            correctIndex: 0,
            expl: "El efecto fotoeléctrico es dominante a bajas energías y alto número atómico (Z), fundamental para el contraste en radiodiagnóstico."
        },
        {
            q: "¿Qué mecanismo atómico predomina con radiaciones de muy altas energías (> 1.02 MeV)?",
            options: [
                "Efecto de formación de pares",
                "Efecto fotoeléctrico",
                "Efecto Compton",
                "Efecto piezoeléctrico"
            ],
            correctIndex: 0,
            expl: "Para crear un par electrón-positrón se requiere una energía mínima de 1.02 MeV; por encima de este umbral, este efecto gana probabilidad."
        },
        {
            q: "¿Por qué se utilizan radiaciones de baja energía en radiodiagnóstico?",
            options: [
                "Porque se absorben selectivamente en unas estructuras orgánicas respecto a otras (mejor contraste)",
                "Porque así se reduce la dosis recibida por el paciente",
                "Porque toda la radiación incidente es absorbida",
                "Ninguna es correcta"
            ],
            correctIndex: 0,
            expl: "A bajas energías predomina el efecto fotoeléctrico, que depende mucho del Z del tejido (hueso vs tejido blando), proporcionando contraste en la imagen."
        },
        {
            q: "¿De qué es unidad el Culombio/Kg (C/kg)?",
            options: [
                "Exposición",
                "Dosis absorbida",
                "Dosis Equivalente",
                "Actividad"
            ],
            correctIndex: 0,
            expl: "Mide la carga eléctrica (ionización) producida por rayos X o gamma en el aire. Sustituye al Roentgen."
        },
        {
            q: "¿De qué es unidad el Gray (Gy)?",
            options: [
                "Dosis Absorbida",
                "Dosis Equivalente",
                "Exposición",
                "Actividad"
            ],
            correctIndex: 0,
            expl: "1 Gray = 1 Julio de energía absorbida por 1 Kg de masa."
        },
        {
            q: "¿En qué efecto se basa el funcionamiento del Detector Geiger-Müller?",
            options: [
                "Ionización (Avalancha)",
                "Efecto fotoquímico",
                "Fluorescencia",
                "Termoluminiscencia"
            ],
            correctIndex: 0,
            expl: "Funciona en la zona de Geiger, donde una sola ionización provoca una avalancha masiva de electrones (descarga)."
        },
        {
            q: "¿En qué efecto se basa el funcionamiento del Detector de Centelleo?",
            options: [
                "Fluorescencia (Luminiscencia)",
                "Efecto fotoquímico",
                "Ionización de gas",
                "Efecto térmico"
            ],
            correctIndex: 0,
            expl: "Ciertos cristales (como el NaI) emiten luz visible (centelleo) cuando absorben radiación ionizante."
        },
        {
            q: "¿Qué ocurre al aumentar la diferencia de potencial (kV) ánodo-cátodo en un tubo de RX?",
            options: [
                "Aumenta tanto la energía máxima como la intensidad de la radiación",
                "Solo aumenta la energía máxima",
                "Disminuye la intensidad",
                "Disminuye la penetración"
            ],
            correctIndex: 0,
            expl: "Al subir el kilovoltaje (kVp), los electrones chocan con más fuerza (más energía/penetración) y se producen más fotones (más intensidad)."
        },
        {
            q: "¿Qué tienen en común los elementos isótopos?",
            options: [
                "La posición en la tabla periódica (mismo Z, nº protones)",
                "El peso atómico",
                "El número de neutrones",
                "El número de nucleones"
            ],
            correctIndex: 0,
            expl: "Isótopo = 'Mismo lugar'. Tienen igual número de protones (Z) pero diferente número de neutrones."
        },
        {
            q: "Si un núcleo sufre una desintegración beta negativa:",
            options: [
                "El núcleo resultante será un isóbaro del precursor (Z+1, A igual)",
                "El núcleo resultante será un isótono",
                "El núcleo resultante será un isótopo",
                "El núcleo retrocede dos lugares"
            ],
            correctIndex: 0,
            expl: "En la desintegración beta, un neutrón pasa a protón. El número másico (A) no cambia (isóbaro), pero el atómico (Z) aumenta."
        },
        {
            q: "Un núcleo radiactivo emite una partícula alfa, el elemento resultante:",
            options: [
                "Retrocede dos lugares en la tabla periódica (Z-2)",
                "Retrocede un lugar en la tabla periódica",
                "Avanza dos lugares en la tabla periódica",
                "Permanece en la misma posición"
            ],
            correctIndex: 0,
            expl: "La partícula alfa son 2 protones y 2 neutrones. Al perderla, el núcleo pierde 2 protones (Z-2)."
        },
        {
            q: "¿Qué es el efecto Compton?",
            options: [
                "Un mecanismo de atenuación/dispersión de las radiaciones ionizantes",
                "El efecto que explica las emisiones espontáneas",
                "El mecanismo de producción de rayos X",
                "La base de la resonancia magnética"
            ],
            correctIndex: 0,
            expl: "El fotón choca con un electrón externo, cede parte de su energía y cambia de dirección (se dispersa)."
        },
        {
            q: "¿Cuál de los siguientes elementos es mejor absorbente de radiaciones (blindaje)?",
            options: [
                "Bismuto (Z=83) o Plomo (Z=82)",
                "Mercurio (Z=80)",
                "Talio (Z=81)",
                "Agua"
            ],
            correctIndex: 0,
            expl: "La absorción aumenta con el número atómico (Z). El Plomo (82) y el Bismuto (83) son excelentes blindajes."
        },
        {
            q: "El espectro de rayos X característico es:",
            options: [
                "Discreto (picos de energía específica)",
                "Continuo",
                "De bandas anchas",
                "Aleatorio"
            ],
            correctIndex: 0,
            expl: "Es característico de cada material y aparece solo a energías específicas correspondientes a la diferencia entre capas electrónicas."
        },
        {
            q: "El filtrado del haz de un tubo de RX se emplea para:",
            options: [
                "Disminuir el porcentaje de fotones de baja energía (endurecer el haz)",
                "Evitar que aparezcan electrones en el exterior",
                "Aumentar la producción de fotones",
                "Atenuar los fotones de alta energía"
            ],
            correctIndex: 0,
            expl: "Los fotones de baja energía no contribuyen a la imagen (no atraviesan al paciente) y solo aumentan la dosis en piel. El filtro los elimina."
        },
        {
            q: "El número de capas hemirreductoras (HVL) necesario para reducir la intensidad a menos de la décima parte (10%) es:",
            options: [
                "4 capas",
                "2 capas",
                "3 capas",
                "5 capas"
            ],
            correctIndex: 0,
            expl: "1 capa=50%, 2=25%, 3=12.5%, 4=6.25%. Con 4 capas se baja del 10%."
        },
        {
            q: "Señale la afirmación CORRECTA sobre peligrosidad (Factor Q):",
            options: [
                "Es más peligroso 1 mGy de partículas Alfa que 1 mGy de rayos X",
                "Es más peligroso 1 mGy de rayos X que 1 mGy de Alfa",
                "Es igual de peligroso",
                "Los protones son menos peligrosos que los electrones a igual dosis"
            ],
            correctIndex: 0,
            expl: "El factor de calidad Q de las partículas Alfa es 20, mientras que para rayos X es 1. Las alfa hacen mucho más daño biológico."
        },
        {
            q: "En un detector TLD (Dosímetro Termoluminiscente):",
            options: [
                "La radiación atrapa electrones que, al calentarse, emiten luz visible",
                "La radiación produce centelleo inmediato",
                "Se produce una descarga eléctrica",
                "Se ennegrece una película"
            ],
            correctIndex: 0,
            expl: "TLD almacena la energía en la estructura cristalina y la libera como luz al aplicar calor (lectura)."
        },
        {
            q: "El principio ALARA en protección radiológica significa:",
            options: [
                "Tan bajo como sea razonablemente posible",
                "Cero dosis a toda costa",
                "Límite legal estricto",
                "Solo para pacientes enfermos"
            ],
            correctIndex: 0,
            expl: "As Low As Reasonably Achievable (considerando factores económicos y sociales)."
        },
        {
            q: "Los efectos estocásticos (probabilísticos) de las radiaciones:",
            options: [
                "Deben limitarse en su probabilidad; no tienen umbral conocido",
                "Tienen un umbral de dosis claro",
                "Se evitan totalmente con blindaje",
                "Producen siempre la muerte celular inmediata"
            ],
            correctIndex: 0,
            expl: "Ej: Cáncer. La probabilidad aumenta con la dosis, pero la gravedad no. Se asume que no hay dosis segura (modelo lineal sin umbral)."
        },
        {
            q: "La unidad de Dosis Efectiva (Sv) es una unidad especial porque:",
            options: [
                "Tiene en cuenta el tipo de radiación y la radiosensibilidad de los distintos tejidos",
                "Mide la carga eléctrica en el aire",
                "Solo sirve para partículas alfa",
                "Es igual a la dosis absorbida siempre"
            ],
            correctIndex: 0,
            expl: "El Sievert (Sv) pondera el daño biológico real considerando qué órgano se irradia y con qué tipo de radiación."
        },
        {
            q: "Si encontramos una señal de trébol ROJO sobre fondo punteado, estamos en zona:",
            options: [
                "De acceso prohibido (Riesgo alto de irradiación/contaminación)",
                "Vigilada",
                "Controlada",
                "Libre"
            ],
            correctIndex: 0,
            expl: "Gris=Vigilada, Verde=Controlada, Amarillo=Permanencia Limitada, Rojo=Acceso Prohibido."
        },
        {
            q: "El Co-60 (Cobalto 60) utilizado en terapia:",
            options: [
                "Se obtiene bombardeando Co-59 con neutrones y emite rayos gamma",
                "Es un radionucleido natural",
                "Emite partículas alfa puras",
                "No es radiactivo"
            ],
            correctIndex: 0,
            expl: "Es un isótopo artificial emisor gamma de alta energía (1.17 y 1.33 MeV)."
        },
        {
            q: "¿Qué es un radiofármaco?",
            options: [
                "Un fármaco ligado a un radionúclido para diagnóstico o terapia",
                "Un medicamento para curar la radiación",
                "Cualquier fármaco expuesto a rayos X",
                "Un contraste yodado"
            ],
            correctIndex: 0,
            expl: "Combina una molécula trazadora (que va al órgano deseado) y un isótopo radiactivo (que emite señal)."
        },
        {
            q: "¿Por qué en Medicina Nuclear diagnóstica se prefieren radionúclidos de vida corta (ej: Tc-99m)?",
            options: [
                "Para reducir la dosis absorbida por el paciente",
                "Porque son más baratos",
                "Porque emiten radiación alfa",
                "Porque duran años en el cuerpo"
            ],
            correctIndex: 0,
            expl: "Al decaer rápido, la radiactividad desaparece pronto del cuerpo, minimizando la irradiación innecesaria tras la prueba."
        },
        {
            q: "¿Qué radiación se propaga a más velocidad en el vacío?",
            options: [
                "Todas las electromagnéticas (X, Gamma, UV, Radio) van a la misma velocidad (c)",
                "Los rayos X",
                "Las ondas de radar",
                "La luz visible"
            ],
            correctIndex: 0,
            expl: "En el vacío, todas las ondas electromagnéticas viajan a la velocidad de la luz (c ≈ 300.000 km/s)."
        },
        {
            q: "Colocando un blindaje de 2 capas hemirreductoras (HVL), la exposición se reduce a:",
            options: [
                "La cuarta parte (25%)",
                "La mitad (50%)",
                "La octava parte",
                "Cero"
            ],
            correctIndex: 0,
            expl: "1 capa reduce a 1/2. 2 capas reducen a 1/2 de 1/2 = 1/4."
        },
        {
            q: "La vida media (τ) es:",
            options: [
                "La inversa de la constante de desintegración (1/λ)",
                "Igual al periodo de semidesintegración",
                "El tiempo para que la actividad baje a la mitad",
                "La mitad de la vida del átomo"
            ],
            correctIndex: 0,
            expl: "Relación: Vida media = 1.44 × Periodo de semidesintegración."
        },
        {
            q: "¿Cuál de estas radiaciones es DIRECTAMENTE ionizante?",
            options: [
                "Protones (partículas cargadas)",
                "Radiación gamma (fotones)",
                "Radiación X (fotones)",
                "Neutrones"
            ],
            correctIndex: 0,
            expl: "Las partículas con carga (alfa, beta, protones) ionizan directamente por Coulomb. Los fotones y neutrones son indirectamente ionizantes."
        },
        {
            q: "La radiación infrarroja está contraindicada en:",
            options: [
                "Hemorragias recientes (por vasodilatación)",
                "Contracturas musculares",
                "Procesos crónicos",
                "Fisioterapia general"
            ],
            correctIndex: 0,
            expl: "El calor (IR) aumenta el flujo sanguíneo, lo que podría empeorar una hemorragia activa."
        },
        {
            q: "La braquiterapia consiste en:",
            options: [
                "Colocación de fuentes encapsuladas dentro o muy cerca del tumor",
                "Radiación con acelerador lineal a distancia",
                "Inyección de radiofármacos líquidos",
                "Uso de láser quirúrgico"
            ],
            correctIndex: 0,
            expl: "Del griego 'brachys' (corto/cerca). Es radioterapia de contacto o corta distancia."
        },
        {
            q: "La radiación de frenado (Bremsstrahlung) se produce por:",
            options: [
                "La pérdida de energía cinética de los electrones al interactuar con el núcleo",
                "El salto de electrones entre órbitas",
                "La desintegración nuclear",
                "El efecto fotoeléctrico"
            ],
            correctIndex: 0,
            expl: "Es el mecanismo principal de producción de rayos X en el tubo: electrones frenados bruscamente emiten fotones."
        },
        {
            q: "¿Qué ocurre al aumentar la corriente (mA) en el filamento del tubo de RX?",
            options: [
                "Aumenta la temperatura y el número de electrones emitidos (y por tanto la cantidad de RX)",
                "Aumenta la energía de los RX",
                "Disminuye la intensidad",
                "Cambia el espectro característico"
            ],
            correctIndex: 0,
            expl: "Más corriente = más calor = más electrones (efecto termoiónico) = más rayos X (Intensidad), pero misma energía."
        }
    ];

    // Función de mezcla (Fisher-Yates)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        container.innerHTML = '';

        // Mezclar orden de preguntas
        const shuffledQuestions = [...quizData];
        shuffleArray(shuffledQuestions);

        shuffledQuestions.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'card';

            const title = document.createElement('div');
            title.className = 'q-text';
            title.innerHTML = `${index + 1}. ${item.q}`;
            card.appendChild(title);

            // Preparar opciones mezcladas
            let opts = item.options.map((optText, i) => ({
                text: optText,
                isCorrect: i === item.correctIndex
            }));
            
            shuffleArray(opts);

            const ul = document.createElement('ul');
            ul.className = 'options-list';

            opts.forEach(opt => {
                const li = document.createElement('li');
                li.className = 'option';
                li.innerText = opt.text;
                
                li.onclick = () => {
                    if (card.classList.contains('answered')) return;
                    card.classList.add('answered');

                    // Bloquear
                    const allOpts = ul.querySelectorAll('.option');
                    allOpts.forEach(o => o.classList.add('disabled'));

                    if (opt.isCorrect) {
                        li.classList.add('correct');
                    } else {
                        li.classList.add('incorrect');
                        // Marcar la correcta
                        opts.forEach((o, idx) => {
                            if (o.isCorrect) allOpts[idx].classList.add('correct');
                        });
                    }

                    // Mostrar explicación
                    const exp = document.createElement('div');
                    exp.className = 'explanation';
                    exp.innerHTML = `<strong>Explicación:</strong> ${item.expl}`;
                    exp.style.display = 'block';
                    card.appendChild(exp);
                };

                ul.appendChild(li);
            });

            card.appendChild(ul);
            container.appendChild(card);
        });
    }

    // Iniciar
    window.onload = renderQuiz;
</script>

</body>
</html>
