<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Ondas y Ultrasonidos - Estudio Interactivo</title>
    <style>
        :root {
            --primary: #2980b9;
            --secondary: #ecf0f1;
            --text: #2c3e50;
            --success-bg: #d4edda;
            --success-text: #155724;
            --error-bg: #f8d7da;
            --error-text: #721c24;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f6;
            color: var(--text);
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #2980b9, #2c3e50);
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1 { margin: 0; font-size: 2rem; }
        .subtitle { font-weight: 300; opacity: 0.9; margin-top: 10px; }

        .question-card {
            background: white;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-left: 5px solid var(--primary);
            transition: transform 0.2s;
        }

        .q-text {
            font-weight: 700;
            font-size: 1.15rem;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            padding: 15px;
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .option:hover:not(.disabled) {
            background-color: #e2e6ea;
            border-color: #cbd3da;
            transform: translateX(5px);
        }

        /* Estados de validación */
        .option.correct {
            background-color: var(--success-bg);
            border-color: #c3e6cb;
            color: var(--success-text);
            font-weight: 600;
        }
        .option.correct::after {
            content: "✓";
            position: absolute;
            right: 15px;
            font-weight: bold;
        }

        .option.incorrect {
            background-color: var(--error-bg);
            border-color: #f5c6cb;
            color: var(--error-text);
            opacity: 0.7;
        }
        .option.incorrect::after {
            content: "✕";
            position: absolute;
            right: 15px;
            font-weight: bold;
        }

        .disabled {
            pointer-events: none;
            cursor: default;
        }

        /* Caja de Explicación */
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #e8f6f3;
            border-top: 3px solid #1abc9c;
            border-radius: 0 0 8px 8px;
            font-size: 0.95rem;
            color: #16a085;
            animation: slideDown 0.3s ease-out;
        }
        
        .explanation strong {
            display: block;
            margin-bottom: 5px;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #controls {
            text-align: center;
            margin: 50px 0;
        }

        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(41, 128, 185, 0.3);
            transition: background 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #1abc9c;
            transform: translateY(-2px);
        }

    </style>
</head>
<body>

<header>
    <h1>Test Ondas y Ultrasonidos</h1>
    <div class="subtitle">Modo Estudio - Feedback Inmediato</div>
</header>

<div id="quiz-container"></div>

<div id="controls">
    <button onclick="window.scrollTo(0,0); location.reload()">⟳ Barajar y Reiniciar</button>
</div>

<script>
    /* DATA STRUCTURE:
       options[0] es siempre la correcta en la base de datos cruda.
       El script se encarga de mezclarlas antes de mostrar.
    */
    const quizData = [
        { 
            q: "¿Se puede propagar la luz y el sonido en el vacío?", 
            options: ["La luz sí, el sonido no", "Ambos se pueden transmitir", "Ninguno se puede transmitir", "La luz no, el sonido sí"],
            explanation: "El sonido es una onda mecánica que necesita materia para vibrar. La luz es una onda electromagnética y puede viajar por el vacío."
        },
        { 
            q: "Cuando se utiliza un sistema de ultrasonidos en diagnóstico, la sonda emisora-receptora se suele untar de un gel con objeto de:", 
            options: ["Acoplar las impedancias acústicas", "Que se desplace mejor sobre el paciente", "Aumentar la frecuencia de onda", "Crear una discontinuidad de impedancias"],
            explanation: "El gel elimina el aire entre la sonda y la piel. Sin gel, la gran diferencia de impedancia (Z) entre aire y piel reflejaría casi toda la onda."
        },
        { 
            q: "El número de capas hemireductoras mínimo necesario para que tras un blindaje la intensidad de un haz de fotones se vea reducida a menos de la décima parte (10%) del valor inicial es:", 
            options: ["4", "5", "3", "2"],
            explanation: "Cada capa reduce al 50%. 1 capa=50%, 2 capas=25%, 3 capas=12.5%, 4 capas=6.25% (que es menor del 10%)."
        },
        { 
            q: "Cuando el valor de 'CHR' (Capa Hemirreductora) es muy grande diremos que la radiación es:", 
            options: ["Muy penetrante", "Monoenergética", "Poco penetrante", "Regular de penetrante"],
            explanation: "Si hace falta mucho espesor (CHR grande) para reducir la radiación a la mitad, significa que la radiación atraviesa fácilmente la materia (es muy penetrante)."
        },
        { 
            q: "Cuando una onda se propaga en un medio disipativo, su intensidad:", 
            options: ["Decrece exponencialmente con la distancia", "Permanece constante", "Es inversamente proporcional al cuadrado de la distancia", "Se anula inmediatamente"],
            explanation: "En un medio disipativo (real), parte de la energía se pierde en calor o fricción, siguiendo una ley exponencial de atenuación."
        },
        { 
            q: "Cuando duplicamos la frecuencia de un sonido, el nuevo sonido tendrá:", 
            options: ["Un tono más agudo (una octava superior)", "Un timbre diferente", "Un tono más grave", "Doble número de fones"],
            explanation: "El tono depende de la frecuencia. Duplicar la frecuencia equivale musicalmente a subir una octava."
        },
        { 
            q: "Para la realización de ecografías se suele utilizar:", 
            options: ["La misma sonda para la emisión y la captación de los ultrasonidos reflejados", "Una sonda que emite los ultrasonidos y otra distinta que los recibe", "Una placa sensible a la radiación ultrasonora", "Una sonda emisora separada 50cm"],
            explanation: "Los cristales piezoeléctricos funcionan alternativamente como emisores (vibran con electricidad) y receptores (generan electricidad al recibir el eco)."
        },
        { 
            q: "La obtención de imágenes ecográficas de tipo Doppler se basa en:", 
            options: ["La variación de frecuencia debida al movimiento del objeto que refleja la onda", "El movimiento de la sonda que emite los ultrasonidos", "Las diferencias de densidad del medio", "La amplitud de la onda reflejada"],
            explanation: "El efecto Doppler mide el cambio de frecuencia cuando la onda rebota en objetos en movimiento (como los glóbulos rojos)."
        },
        { 
            q: "Recibe el nombre de Onda o Movimiento ondulatorio:", 
            options: ["Una perturbación que se propaga transportando energía", "La línea ondulada que se obtiene al agitar una cuerda", "Cualquier movimiento superficial del agua", "Aquellas captadas por antenas"],
            explanation: "Definición física: perturbación de una propiedad del medio que viaja a través del espacio transportando energía sin transporte neto de materia."
        },
        { 
            q: "Una onda transversal es:", 
            options: ["Aquella en la que la dirección de la perturbación y la de propagación son perpendiculares", "Aquella en la que la dirección de la perturbación y la de propagación son iguales", "Aquella que atraviesa de forma transversal el medio", "El sonido"],
            explanation: "Ejemplo: La luz o una cuerda agitada. El sonido, por contra, es longitudinal."
        },
        { 
            q: "Cuando una onda se propaga en un medio material:", 
            options: ["Hace que las partículas del medio oscilen alrededor de su posición de equilibrio", "Atraviesa éste sin que sus partículas sufran alteración alguna", "Provoca un movimiento uniformemente acelerado", "Las partículas se mueven con velocidad constante"],
            explanation: "La onda transmite la perturbación; las partículas vibran localmente pero no viajan con la onda."
        },
        { 
            q: "Indicar cuál de las siguientes afirmaciones puede ser verdadera sobre el periodo (T):", 
            options: ["El periodo de una onda es de 5 s", "El periodo de una onda es de 5 m", "El periodo de una onda es de 5 Hz", "El periodo es proporcional a la velocidad"],
            explanation: "El periodo es una magnitud de tiempo (segundos). Hz es frecuencia, metros es longitud."
        },
        { 
            q: "La frecuencia de las ondas sonoras disminuye (se hace más grave) cuando la fuente y el receptor:", 
            options: ["Se alejan", "Se mueven manteniendo la distancia", "Se acercan", "Están en reposo"],
            explanation: "Efecto Doppler: Al alejarse, las ondas se 'estiran', aumentando la longitud de onda y disminuyendo la frecuencia percibida."
        },
        { 
            q: "Debido a su tono distinguimos entre sonidos:", 
            options: ["Agudos y Graves", "Complejos y simples", "Fuertes y débiles", "Rápidos y lentos"],
            explanation: "Tono = Frecuencia (Agudo/Grave). Intensidad = Amplitud (Fuerte/Débil). Timbre = Forma de onda."
        },
        { 
            q: "El periodo de una onda:", 
            options: ["Es el tiempo que tarda en completar un ciclo", "Es el espacio que tarda en repetirse una onda", "Dividido por 2π da la frecuencia", "Ninguna es cierta"],
            explanation: "T = 1/f. Es el tiempo necesario para una oscilación completa."
        },
        { 
            q: "La función del oído humano es:", 
            options: ["Convertir las ondas sonoras en impulsos eléctricos/nerviosos", "Convertir los impulsos eléctricos en ondas sonoras", "Transformar los impulsos nerviosos en ondas mecánicas", "Transformar la presión en calor"],
            explanation: "Es un transductor que convierte energía mecánica (presión sonora) en señales bioeléctricas para el cerebro."
        },
        { 
            q: "En su camino a lo largo del oído externo, las ondas sonoras alcanzan finalmente:", 
            options: ["El Tímpano", "El pabellón auditivo", "El conducto Auditivo", "El vestíbulo"],
            explanation: "El oído externo termina en la membrana timpánica, que vibra al recibir el sonido."
        },
        { 
            q: "En la cadena de huesecillos del oído medio se encuentra:", 
            options: ["El yunque", "El vestíbulo", "El tímpano", "El conducto auditivo"],
            explanation: "La cadena está formada por Martillo, Yunque y Estribo."
        },
        { 
            q: "Las distintas frecuencias son recogidas en puntos distintos de:", 
            options: ["La membrana basilar (Tonotopía)", "El pabellón auditivo", "La membrana oval", "El vestíbulo"],
            explanation: "La membrana basilar en la cóclea actúa como un analizador de frecuencias: la base detecta agudos y el ápice graves."
        },
        { 
            q: "El oído medio se encuentra limitado por la base de la cóclea y el:", 
            options: ["El tímpano", "El pabellón auditivo", "El conducto auditivo", "El vestíbulo"],
            explanation: "El oído medio va desde el tímpano hasta la ventana oval/redonda de la cóclea."
        },
        { 
            q: "Las vibraciones de la ventana oval son transformadas en impulsos nerviosos en:", 
            options: ["La cóclea (Órgano de Corti)", "La ventana redonda", "El martillo", "El tímpano"],
            explanation: "El Órgano de Corti contiene las células ciliadas que realizan la transducción."
        },
        { 
            q: "Cuando una persona habla con voz más aguda que otra significa que:", 
            options: ["Produce sonidos de mayor frecuencia", "Produce sonidos de mayor amplitud", "Produce sonidos de mayor longitud de onda", "Produce sonidos de menor frecuencia"],
            explanation: "Agudo = Alta frecuencia. Grave = Baja frecuencia."
        },
        { 
            q: "Cierto movimiento ondulatorio posee una frecuencia de 10Hz y una longitud de onda de 3m, así que su velocidad de propagación es:", 
            options: ["30 m/s", "10/3 m/s", "10 m/s", "3 m/s"],
            explanation: "Fórmula: v = λ · f.  v = 3m · 10Hz = 30 m/s."
        },
        { 
            q: "Las ondas mecánicas se propagan:", 
            options: ["En un medio material", "En el vacío", "Siempre que haya un transporte neto de materia", "Sin transporte de energía"],
            explanation: "Requieren un medio elástico (sólido, líquido o gas) para transmitirse."
        },
        { 
            q: "Para medir la velocidad de la sangre en un vaso realizaremos:", 
            options: ["Una ecografía Doppler", "Una ecografía tipo A", "Una ecografía tipo B", "Una ecografía TM"],
            explanation: "El efecto Doppler permite calcular la velocidad de fluidos en movimiento."
        },
        { 
            q: "En el estudio del funcionalismo cardiaco se utiliza frecuentemente:", 
            options: ["La ecografía TM (Tiempo-Movimiento)", "La ecografía A", "La ecografía B estática", "La Espirometría"],
            explanation: "El modo M o TM permite ver el movimiento de las válvulas y paredes del corazón en función del tiempo."
        },
        { 
            q: "La intensidad relativa de una onda se mide en:", 
            options: ["Decibelios (dB)", "Erizos", "W/m2", "Metros"],
            explanation: "La intensidad absoluta es W/m2, pero la relativa (nivel de intensidad sonora) usa escala logarítmica en dB."
        },
        { 
            q: "El coeficiente de absorción de una onda se puede medir en:", 
            options: ["1/cm (cm^-1)", "mol/cm2", "electron/voltio", "decibelios"],
            explanation: "Representa cuánto decae la intensidad por unidad de longitud."
        },
        { 
            q: "En un movimiento ondulatorio se dice que dos puntos están en concordancia de fase cuando:", 
            options: ["Están separados por una distancia igual a la longitud de onda (o múltiplo entero)", "Están separados por media longitud de onda", "Están separados por un cuarto de onda", "Están separados aleatoriamente"],
            explanation: "Puntos separados por λ, 2λ, 3λ... están en el mismo estado de vibración."
        },
        { 
            q: "La energía transmitida por una onda por unidad de tiempo y de superficie perpendicular a la dirección de propagación se denomina:", 
            options: ["Intensidad de la onda", "Potencia de la onda", "Energía de la onda", "Coeficiente de transmisión"],
            explanation: "Intensidad = Potencia / Superficie (W/m²)."
        },
        { 
            q: "Todo punto de un medio alcanzado por un movimiento vibratorio se convierte en foco emisor de ondas secundarias. Este enunciado corresponde a:", 
            options: ["Principio de Huygens", "Efecto Doppler", "Poder de refracción", "Ley de Snell"],
            explanation: "Principio fundamental para explicar la difracción y la propagación de frentes de onda."
        },
        { 
            q: "La intensidad de un movimiento ondulatorio es inversamente proporcional a:", 
            options: ["El cuadrado de la distancia", "La amplitud del movimiento", "La distancia lineal", "El cuadrado de la amplitud"],
            explanation: "Ley del inverso del cuadrado de la distancia (para ondas esféricas)."
        },
        { 
            q: "Un medio disipativo es aquel en el cual:", 
            options: ["El medio absorbe parte de la energía que la onda transmite", "Las ondas se transmiten sin pérdidas", "Se transmite radiación en el vacío", "Se cumple la ley del inverso del cuadrado ideal"],
            explanation: "La disipación implica conversión de la energía de la onda en calor (absorción)."
        },
        { 
            q: "Al pasar una onda de un medio a otro su energía:", 
            options: ["Parte se transmite y parte se refleja", "Permanece constante en la transmisión", "No se transmite en absoluto", "Se anula"],
            explanation: "En la interfaz (discontinuidad de impedancia), la energía se divide entre reflexión y refracción (transmisión)."
        },
        { 
            q: "En las ondas planas los frentes de onda son:", 
            options: ["Planos", "Rectos", "Esféricos", "Circunferencias"],
            explanation: "Se producen a gran distancia del foco emisor o mediante fuentes planas."
        },
        { 
            q: "Las ondas sonoras se propagan más rápidamente en:", 
            options: ["Sólidos (como hueso o metal)", "Aire", "Agua", "Es indiferente"],
            explanation: "La velocidad aumenta con la rigidez del medio. V_sólido > V_líquido > V_gas."
        },
        { 
            q: "El oído medio:", 
            options: ["Actúa como acoplador de impedancias entre el aire y la perilinfa", "Transmite toda la intensidad sin pérdidas", "Transforma las ondas en electricidad", "No tiene función mecánica"],
            explanation: "Compensa la gran diferencia de impedancia entre el aire (oído externo) y el líquido (oído interno) mediante la relación de áreas tímpano/oval y la palanca de huesecillos."
        },
        { 
            q: "Señale la proposición correcta sobre la transmisión del sonido:", 
            options: ["Los sonidos graves se transmiten mejor que los agudos a largas distancias", "Los sonidos agudos se transmiten mejor", "Graves y agudos se atenúan igual", "El vacío transmite mejor los graves"],
            explanation: "Las frecuencias altas (agudos) se absorben y dispersan más fácilmente que las bajas (graves)."
        },
        { 
            q: "Al umbral de la sensación auditiva desagradable (dolor) le corresponden aproximadamente:", 
            options: ["120 - 130 dB", "60 dB", "10 dB", "180 dB"],
            explanation: "A partir de 120 dB se siente molestia, y a 140 dB dolor físico."
        },
        { 
            q: "Desde el punto de vista físico, el conducto auditivo externo actúa como:", 
            options: ["Amplificador de ondas sonoras (resonador)", "Transformador de presiones", "Perceptor de ondas", "Amortiguador"],
            explanation: "Resuena en frecuencias medias (aprox 3000 Hz), amplificándolas antes de llegar al tímpano."
        },
        { 
            q: "El órgano de Corti se encuentra situado sobre:", 
            options: ["La membrana basilar", "El tímpano", "La membrana tectorial", "Rampa vestibular"],
            explanation: "Es la estructura sensorial principal ubicada en la rampa media, sobre la membrana basilar."
        },
        { 
            q: "¿Cuál es la cualidad del sonido que distingue a otro de distinta nota (frecuencia)?", 
            options: ["Tono", "Mel", "Fon", "Intensidad"],
            explanation: "El tono es la percepción subjetiva de la frecuencia."
        },
        { 
            q: "En la obtención de la dirección de un sonido por audición biaural NO influye:", 
            options: ["La musicalidad del sonido", "La diferencia de fase entre oídos", "La diferencia de intensidad entre oídos", "El tiempo de llegada"],
            explanation: "El cerebro localiza sonidos comparando cuándo y cuán fuerte llega el sonido a cada oído. Que sea 'musical' o ruido no afecta la localización geométrica."
        },
        { 
            q: "La producción de ultrasonidos de alta frecuencia se debe a:", 
            options: ["Efecto piezoeléctrico", "Efecto fotoeléctrico", "Efecto térmico", "Efecto magnético"],
            explanation: "Cristales como el cuarzo se deforman al aplicar electricidad, generando vibraciones mecánicas (US)."
        },
        { 
            q: "En la ecografía tipo B o de Scan (B-Mode):", 
            options: ["El transductor se mueve y hay una modulación en brillo del impulso reflejado", "El transductor permanece fijo", "Solo hay modulación de amplitud", "No hay imagen 2D"],
            explanation: "B-Mode (Brightness) crea imágenes 2D donde la intensidad del eco se representa como el brillo del punto."
        },
        { 
            q: "La ecografía TM se emplea normalmente:", 
            options: ["Para determinar la posición variable de un obstáculo que se supone en movimiento (cardiaco)", "Para obtener una imagen estática", "Para obtener información 3D", "Como método de calentamiento"],
            explanation: "Registra el movimiento de estructuras (válvulas) a lo largo del tiempo."
        },
        { 
            q: "En la aplicación terapéutica o diagnóstica de los ultrasonidos, se coloca gel de acoplamiento para:", 
            options: ["Disminuir la reflexión y aumentar la transmisión", "Que el transductor se deslice mejor solamente", "Proteger la piel de quemaduras", "Aumentar la frecuencia"],
            explanation: "Elimina la interfase de aire que reflejaría casi el 99% de la onda."
        },
        { 
            q: "La resistencia que oponen las diversas sustancias a ser atravesadas por los ultrasonidos se denomina:", 
            options: ["Impedancia acústica (Z)", "Ecogenicidad", "Densidad resistiva", "Resistencia específica"],
            explanation: "Z = Densidad × Velocidad. Determina cuánto sonido se refleja o transmite."
        },
        { 
            q: "Para comprobar que el cabezal de ecografía emite podemos realizar la prueba de:", 
            options: ["La gota de agua (ver si vibra/nebuliza)", "Benceno", "Yoduro potásico", "Silbato de Galton"],
            explanation: "Prueba simple: poner agua sobre el cabezal hacia arriba; si emite, el agua se agita o vaporiza por la energía mecánica."
        },
        { 
            q: "El material usado inicialmente para producir ultrasonidos fue:", 
            options: ["Cuarzo", "Rubí", "Topacio", "Plástico"],
            explanation: "El efecto piezoeléctrico fue descubierto por los Curie en el cuarzo."
        },
        { 
            q: "En la ecografía Doppler medimos la velocidad de la sangre cuando la variación de frecuencia del haz se refleja en:", 
            options: ["Los hematíes (glóbulos rojos)", "El plasma sanguíneo", "Las proteínas", "Las paredes"],
            explanation: "Los hematíes actúan como pequeños reflectores móviles."
        },
        { 
            q: "Los ultrasonidos se utilizan en terapéutica (fisioterapia) aprovechando:", 
            options: ["Su acción térmica y mecánica", "Su acción exclusivamente térmica", "Que enfrían los tejidos", "Su acción magnética"],
            explanation: "Producen micromasaje celular (mecánico) y calor profundo (térmico)."
        },
        { 
            q: "Las ondas sonoras o acústicas son:", 
            options: ["Ondas longitudinales de presión", "Ondas transversales", "Ondas estacionarias", "Ondas electromagnéticas"],
            explanation: "Las partículas vibran en la misma dirección que el avance de la onda (compresión/rarefacción)."
        },
        { 
            q: "¿A quién vas a seguir en instagram cuando termines este test? (Pregunta de broma del autor)", 
            options: ["pepegarridoo / susoocalderoon / teochaza / santibenvenuty", "Nadie", "A mi profesor", "A la NASA"],
            explanation: "Esta pregunta es una broma interna ("meta") del creador del test original."
        },
        { 
            q: "En todo movimiento ondulatorio:", 
            options: ["Se propaga energía pero no materia", "Se propaga materia", "Siempre se requiere un medio material (falso para la luz)", "La energía permanece estática"],
            explanation: "La característica fundamental es el transporte de energía sin transporte neto de masa."
        },
        { 
            q: "En las ondas estacionarias se cumple que la distancia entre un nodo y un vientre consecutivo es:", 
            options: ["1/4 de longitud de onda (λ/4)", "λ", "1/2 λ", "λ/3"],
            explanation: "Distancia Nodo-Nodo = λ/2. Distancia Nodo-Vientre = λ/4."
        },
        { 
            q: "La cualidad del sonido que permite reconocer dos instrumentos distintos dando la misma nota e intensidad se denomina:", 
            options: ["Timbre", "Tono", "Sonoridad", "Volumen"],
            explanation: "Depende de los armónicos que acompañan a la frecuencia fundamental."
        },
        { 
            q: "El nivel de intensidad sonora se mide en:", 
            options: ["Decibelios (dB)", "Fonos", "Sones", "Watios"],
            explanation: "Es una escala logarítmica basada en la presión o potencia."
        },
        { 
            q: "Un sonido de -10 dB y 1.000 Hz:", 
            options: ["No es audible", "Es audible", "Es muy agudo", "Produce dolor"],
            explanation: "El umbral de audición es 0 dB. Valores negativos implican intensidades por debajo del umbral humano promedio."
        },
        { 
            q: "La impedancia acústica depende de:", 
            options: ["La velocidad de propagación y la densidad del medio", "La velocidad de la fuente", "Solo la densidad", "La temperatura"],
            explanation: "Fórmula: Z = ρ · c (Densidad · Velocidad)."
        },
        { 
            q: "La unidad de agudeza subjetiva (tono) de un sonido es:", 
            options: ["Mel", "Son", "Fon", "Decibelio"],
            explanation: "El Mel es la unidad psicoacústica para medir el tono percibido."
        },
        { 
            q: "Con el sistema A-Mode (modulación de amplitud) de registro de los ecos, las interfases se ven como:", 
            options: ["Deflexiones verticales (picos)", "Puntos luminosos", "Mapas de color", "Líneas horizontales"],
            explanation: "Es la forma más básica: un gráfico donde el eje X es distancia y el eje Y (altura del pico) es la intensidad del eco."
        },
        { 
            q: "En la ecografía Doppler el haz de ultrasonidos suele ser:", 
            options: ["Continuo (o pulsado de alta repetición)", "Pulsado simple", "Estático", "Aleatorio"],
            explanation: "El Doppler continuo usa dos cristales (uno emite, otro recibe) constantemente para medir altas velocidades."
        },
        { 
            q: "Uno de los siguientes sistemas no se puede emplear como acoplador de impedancia:", 
            options: ["Microelectrodo", "Transformador", "Pabellón auditivo", "Gel de ultrasonidos"],
            explanation: "Un microelectrodo es un sensor, no un adaptador de impedancias. Los transformadores, el oído medio y el gel sí lo son."
        },
        { 
            q: "Qué es la longitud de onda (λ)?", 
            options: ["La distancia entre dos puntos consecutivos que están en la misma fase", "La distancia que recorre la onda en un segundo", "El tiempo de un ciclo", "La altura de la cresta"],
            explanation: "Es la distancia física entre dos crestas o dos valles consecutivos."
        },
        { 
            q: "Un sonido se propaga en el aire con una longitud de onda de 2 m y una velocidad de 340 m/s, en el agua lo hace a 1500 m/s ¿Cuál es su frecuencia en el agua?", 
            options: ["170 Hz", "340 Hz", "1500 Hz", "680 Hz"],
            explanation: "La frecuencia NO cambia al cambiar de medio. En aire: f = v/λ = 340/2 = 170 Hz. En agua sigue siendo 170 Hz."
        },
        { 
            q: "¿Qué es el periodo de una onda?", 
            options: ["El tiempo que tarda una partícula en realizar una oscilación completa", "La máxima elongación", "El número de oscilaciones por segundo", "La velocidad de fase"],
            explanation: "Es el inverso de la frecuencia (T = 1/f)."
        },
        { 
            q: "Una onda sonora de frecuencia 2000 Hz se propaga en el aire e incide sobre un material cuya impedancia acústica es igual a la del aire. Podemos afirmar que:", 
            options: ["Se va a producir una transmisión del 100 % (reflexión 0%)", "Se va a producir una reflexión del 100 %", "Se anula la onda", "Cambia de frecuencia"],
            explanation: "Si las impedancias son iguales (Z1 = Z2), no hay eco (reflexión) y toda la energía pasa (transmisión máxima)."
        },
        { 
            q: "¿Que es la resolución longitudinal (axial)?", 
            options: ["Mínima distancia entre dos objetos situados uno detrás de otro que se ven como dos ecos distintos", "Mínima distancia lateral", "Capacidad de penetración", "Ancho del haz"],
            explanation: "Depende de la longitud del pulso y la frecuencia. A mayor frecuencia, mejor resolución axial."
        },
        { 
            q: "Un reproductor de música mp3 [60-10.000 Hz] vs uno [10-40.000 Hz]. ¿Cuál se oye mejor?", 
            options: ["Prácticamente igual (el oído humano solo oye 20-20.000 Hz)", "El segundo es mucho mejor", "El primero es mejor", "El segundo se oye doble de fuerte"],
            explanation: "El rango audible humano es aprox 20-20.000 Hz. Las frecuencias extra (40kHz) no son audibles, y perder los bajos (10-60Hz) es poco perceptible en auriculares baratos."
        },
        { 
            q: "Si la potencia de una onda sonora se mantiene y la distancia se reduce a la mitad, ¿en qué factor cambia la intensidad?", 
            options: ["La intensidad aumenta 4 veces", "La intensidad aumenta el doble", "Disminuye 4 veces", "No cambia"],
            explanation: "Ley del inverso del cuadrado: Si d se reduce a 1/2, I aumenta por (1/0.5)^2 = 4."
        },
        { 
            q: "Si el movimiento de una partícula vibrante tiene la misma dirección que el avance de la onda, se llama:", 
            options: ["Longitudinal", "Transversal", "Perpendicular", "Circular"],
            explanation: "Definición de onda longitudinal (ej: sonido)."
        },
        { 
            q: "La frecuencia del sonido captada por un observador en reposo:", 
            options: ["Aumenta cuando se acerca la fuente y disminuye cuando se aleja", "Disminuye siempre", "Aumenta siempre", "No cambia"],
            explanation: "Efecto Doppler clásico."
        },
        { 
            q: "Un sonido de 1.000Hz y 40 dB produce la misma sensación sonora que otro de 200 Hz y 55 dB. ¿Cuántos fonos tiene este último?", 
            options: ["40 fonos", "55 fonos", "15 fonos", "1000 fonos"],
            explanation: "Por definición, los fonos coinciden con los decibelios a 1.000 Hz. Si suena igual que uno de 40 dB a 1kHz, tiene 40 fonos."
        },
        { 
            q: "Una onda sonora va por el aire y se refleja en una pared. ¿Qué cambia?", 
            options: ["Cambia el sentido, pero f, λ y velocidad no cambian", "Cambia la frecuencia", "Cambia la velocidad", "Cambia la longitud de onda"],
            explanation: "En la reflexión especular en el mismo medio, las propiedades de la onda (v, f, λ) se conservan, solo cambia la dirección/sentido."
        },
        { 
            q: "La luz y el sonido son ondas que tienen en común:", 
            options: ["Transportar energía", "Ser longitudinales", "Ser mecánicas", "Viajar en el vacío"],
            explanation: "Todas las ondas transportan energía."
        },
        { 
            q: "Una persona en la estación oye el silbato de un tren percibiéndolo cada vez menos agudo (más grave). Deduce que:", 
            options: ["El tren se está alejando", "El tren se acerca", "El tren está parado", "El maquinista bajó el volumen"],
            explanation: "Doppler: Menos agudo = bajada de frecuencia = alejamiento."
        },
        { 
            q: "En las ondas estacionarias los nodos son puntos donde:", 
            options: ["La amplitud es mínima (cero)", "La amplitud es máxima", "Hay máxima energía", "Vibran mucho"],
            explanation: "Los nodos son puntos de interferencia destructiva total (quietos)."
        },
        { 
            q: "Cuando un rayo de luz pasa desde el aire al agua se produce un cambio en:", 
            options: ["Longitud de onda y Velocidad (frecuencia no)", "Frecuencia y velocidad", "Solo frecuencia", "Energía total"],
            explanation: "La frecuencia depende de la fuente y no cambia. Al cambiar de medio, cambia la velocidad y, por tanto, la longitud de onda."
        },
        { 
            q: "El rango de frecuencias que percibe un ser humano se extiende entre:", 
            options: ["20 Hz y 20.000 Hz", "0 y 100 Hz", "1000 y 5000 Hz", "10 y 100.000 Hz"],
            explanation: "Es el espectro audible estándar para un oído joven y sano."
        }
    ];

    // Función para mezclar arrays (Fisher-Yates)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        container.innerHTML = '';

        // 1. Mezclar el orden de las preguntas
        // Creamos una copia de índices para no perder referencia si fuera necesario, 
        // aunque aquí mezclaremos el array de datos directamente para simplificar.
        let shuffledQuestions = [...quizData];
        shuffleArray(shuffledQuestions);

        shuffledQuestions.forEach((item, index) => {
            // item.options[0] es la correcta original.
            // Creamos un objeto para rastrearla antes de mezclar las opciones.
            let optionsObj = item.options.map((txt, i) => ({ 
                text: txt, 
                isCorrect: (i === 0) 
            }));
            
            // 2. Mezclar las opciones de esta pregunta
            shuffleArray(optionsObj);

            const card = document.createElement('div');
            card.className = 'question-card';
            
            const qText = document.createElement('div');
            qText.className = 'q-text';
            qText.innerHTML = `${index + 1}. ${item.q}`;
            card.appendChild(qText);
            
            const grid = document.createElement('div');
            grid.className = 'options-grid';
            
            optionsObj.forEach(opt => {
                const btn = document.createElement('div');
                btn.className = 'option';
                btn.innerText = opt.text;
                
                btn.onclick = () => {
                    // Evitar múltiples respuestas
                    if(card.classList.contains('answered')) return;
                    card.classList.add('answered');
                    
                    // Marcar opciones
                    const allBtns = grid.querySelectorAll('.option');
                    allBtns.forEach(b => b.classList.add('disabled'));

                    if(opt.isCorrect) {
                        btn.classList.add('correct');
                    } else {
                        btn.classList.add('incorrect');
                        // Buscar y resaltar la correcta
                        optionsObj.forEach((obj, idx) => {
                            if(obj.isCorrect) {
                                allBtns[idx].classList.add('correct');
                            }
                        });
                    }

                    // Mostrar explicación
                    const expDiv = card.querySelector('.explanation');
                    if(expDiv) expDiv.style.display = 'block';
                };
                
                grid.appendChild(btn);
            });
            
            card.appendChild(grid);

            // Añadir div de explicación
            const exp = document.createElement('div');
            exp.className = 'explanation';
            exp.innerHTML = `<strong>Explicación:</strong> ${item.explanation}`;
            card.appendChild(exp);

            container.appendChild(card);
        });
    }

    // Iniciar
    window.onload = renderQuiz;
</script>

</body>
</html>
