<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Biolog√≠a Celular y Embriolog√≠a (Preguntas 1-80)</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .quiz-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            padding: 30px;
            text-align: left;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 15px;
        }

        .progress {
            font-weight: bold;
            color: #666;
        }

        .score {
            color: #2c3e50;
            font-weight: bold;
            font-size: 1.1em;
        }

        .question {
            font-size: 1.25em;
            margin-bottom: 20px;
            color: #2c3e50;
            line-height: 1.5;
            font-weight: 500;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .option-btn {
            background-color: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            width: 100%;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1rem;
            color: #444;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not([disabled]) {
            background-color: #f8f9fa;
            border-color: #bdc3c7;
        }

        /* Estados de respuesta */
        .correct {
            background-color: #d4edda !important;
            border-color: #28a745 !important;
            color: #155724 !important;
        }

        .incorrect {
            background-color: #f8d7da !important;
            border-color: #dc3545 !important;
            color: #721c24 !important;
        }

        .next-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            border-radius: 6px;
            cursor: pointer;
            display: none;
            margin-top: 25px;
            float: right;
            transition: background 0.2s;
        }

        .next-btn:hover {
            background-color: #2980b9;
        }

        .result-container {
            text-align: center;
            display: none;
        }
        
        .restart-btn {
            background-color: #95a5a6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 1rem;
        }
        
        .restart-btn:hover {
            background-color: #7f8c8d;
        }
    </style>
</head>
<body>

<div class="quiz-container" id="quiz-box">
    <div class="header">
        <span class="progress" id="progress">Pregunta 1 de 80</span>
        <span class="score" id="score">Aciertos: 0</span>
    </div>
    
    <div class="question" id="question-text">Cargando...</div>
    
    <div class="options" id="options-container"></div>

    <button class="next-btn" id="next-btn" onclick="nextQuestion()">Siguiente Pregunta</button>
</div>

<div class="quiz-container result-container" id="result-box">
    <h2>¬°Quiz Completado!</h2>
    <p style="font-size: 1.3em; margin: 20px 0;">Has acertado <span id="final-score" style="font-weight:bold; color:#27ae60;"></span> de <span id="total-questions"></span></p>
    <button class="restart-btn" onclick="restartQuiz()">Volver a intentar</button>
</div>

<script>
    // Preguntas extra√≠das del documento unificado sevilla y granada.docx
    // Bloque 1 (1-36) y Bloque 2 (1-44) para sumar 80 preguntas.
    const questions = [
        // --- BLOQUE 1: Biolog√≠a Celular ---
        { q: "¬øCu√°l de los siguientes org√°nulos contiene las enzimas oxidativas para la degradaci√≥n de l√≠pidos y sustancias t√≥xicas?", options: ["lisosomas", "endosoma", "peroxisoma", "RE"], correct: 2 },
        { q: "Los hemidesmosomas son un tipo de uni√≥n:", options: ["c√©lula-c√©lula con anclaje de filamentos intermedios", "c√©lula-matriz con anclaje de microfilamentos de actina", "c√©lula-c√©lula con anclaje de microfilamentos de actina", "c√©lula-matriz con anclaje de filamentos intermedios"], correct: 3 },
        { q: "Los hidratos de carbono de la membrana:", options: ["son inestables cuando se unen a fosfol√≠pidos de la hemicapa externa", "son inestables cuando se unen a prote√≠nas perif√©ricas", "se encuentran situados entre los l√≠pidos de forma fluida", "forman el glicoc√°lix al unirse a l√≠pidos y prote√≠nas"], correct: 3 },
        { q: "¬øCu√°l de los siguientes organismos tendr√° probablemente el mayor porcentaje de fosfol√≠pidos insaturados en su membrana celular?", options: ["el hombre", "un pez ant√°rtico", "iguana tropical", "bacteria term√≥fila"], correct: 1 },
        { q: "La interacci√≥n c√©lula-membrana basal en los epitelios se realiza por medio de mol√©culas CAM del tipo:", options: ["ICAM", "integrinas", "cadherinas", "selectinas"], correct: 1 },
        { q: "En cada replic√≥n se necesita:", options: ["un cebador para la hebra conductora y otro para la retardada", "los replicones no necesitan cebadores", "un cebador para la hebra conductora y muchos para la retardada", "la hebra retardada necesita cebadores y la conductora no"], correct: 2 },
        { q: "¬øCu√°l de los siguientes estructuras del citoesqueleto se encuentra anclada a la membrana plasm√°tica?:", options: ["filamentos del anillo contr√°ctil", "todos los anteriores", "filamentos de las fibras de estr√©s", "filamentos de las microvellosidades"], correct: 1 },
        { q: "¬øCu√°l de las siguientes prote√≠nas no forma parte de la estructura ciliar?:", options: ["tubulina beta", "tubulina alfa", "actina", "dine√≠na"], correct: 2 },
        { q: "En las uniones estrechas celulares (tight junction) intervienen mol√©culas del tipo:", options: ["ocludinas", "junctinas", "cadherinas", "tightinas"], correct: 0 },
        { q: "Los filamentos intermedios:", options: ["presentan inestabilidad din√°mica, pero no son estructuras polares", "est√°n compuestos por diversas prote√≠nas que se expresan en distintos tipos celulares", "forman el huso mit√≥tico", "tienen siempre localizaci√≥n citoplasm√°tica en las c√©lulas eucariotas"], correct: 1 },
        { q: "Los ribosomas:", options: ["sus subunidades pueden unirse antes de salir del n√∫cleo", "son org√°nulos citoplasm√°ticos encapsulados por una membrana", "la subunidad mayor es ribonucleoproteica y la menor proteica", "la capacidad catal√≠tica recae en los RNA ribos√≥micos"], correct: 3 },
        { q: "¬øCu√°l de los siguientes org√°nulos funciona como principal reservorio de Ca++ celular:", options: ["mitocondria", "lisosoma", "RER", "REL"], correct: 3 },
        { q: "De las siguientes mol√©culas cu√°l ser√≠a en orden decreciente la permeabilidad a trav√©s de la membrana:", options: ["RNA, Ca++, glucosa, N2", "Ca++, glucosa, N2, RNA", "glucosa, N2, Ca++, RNA", "N2, glucosa, Ca++, RNA"], correct: 3 },
        { q: "La s√≠ntesis del DNA comienza en:", options: ["los ORC", "los centr√≥meros", "los tel√≥meros", "los promotores"], correct: 0 },
        { q: "Las mol√©culas de se√±alizaci√≥n que se unen a los receptores intracelulares deben ser:", options: ["peque√±as e hidrof√≠licas", "peque√±as e hidrof√≥bicas", "grandes e hidrof√≥bicas", "grandes e hidrof√≠licas"], correct: 1 },
        { q: "En relaci√≥n a las prote√≠nas que se localizan en el RER, es falso:", options: ["su translocaci√≥n puede ser co-traduccional o post-traduccional", "la secuencia se√±al de las prote√≠nas translocadas co- y post-traduccionalmente es la misma", "La PRS detiene transitoriamente la traducci√≥n", "comienzan su traducci√≥n por ribosomas libres"], correct: 1 },
        { q: "Podr√≠amos comparar la se√±alizaci√≥n paracrina con:", options: ["Hablar con gente en un botell√≥n", "Una conversaci√≥n telef√≥nica", "Hablar consigo mismo", "un anuncio por radio"], correct: 0 },
        { q: "¬øCu√°l de los siguientes ARN se transporta al citoplasma en un modo independiente de Ran?:", options: ["ARNm", "ARNsn", "ARNt", "Todos tienen transporte dependiente de Ran"], correct: 0 },
        { q: "Los microt√∫bulos:", options: ["en su polimerizaci√≥n consumen energ√≠a aportada por el ATP", "mantienen protegido el extremo negativo durante la interfase", "se despolimerizan por acci√≥n del complejo Tau", "forman haces paralelos y contr√°ctiles, y redes"], correct: 1 },
        { q: "¬øCu√°l de los siguientes fosfol√≠pidos se encuentra exclusivamente en la cara interna de las membranas plasm√°ticas y en cantidades muy peque√±as?", options: ["fosfatidilserina", "fosfatidilcolina", "fosfatidilinositol", "colesterol"], correct: 2 },
        { q: "Todos los ARN ribos√≥micos son:", options: ["procesados y unidos a las prote√≠nas en el nucl√©olo", "sintetizados en el nucl√©olo", "transcritos por la RNA polimerasa I", "transcritos por la RNA polimerasa II"], correct: 0 },
        { q: "El complejo ARP2/3 se une a los microfilamentos para:", options: ["orientarlos en el mismo sentido para formar haces apretados", "permitir las uniones diagonales para formar redes", "orientarlos en sentido contrario para formar haces laxos contr√°ctiles", "favorecer la nucleaci√≥n lateral"], correct: 3 },
        { q: "La l√°mina nuclear:", options: ["forma una red proteica fibrosa continua en el espacio perinuclear", "sus prote√≠nas NO est√°n conectadas con la cromatina", "mantiene la estructura del n√∫cleo por interacciones con prote√≠nas transmembrana de la membrana nuclear interna", "est√° formada por microfilamentos de actina"], correct: 2 },
        { q: "¬øCu√°l de las siguientes prote√≠nas se encuentra en la membrana mitocondrial interna?", options: ["porinas", "el complejo Tom", "Bcl2", "ATP sintasa"], correct: 3 },
        { q: "Las dineinas son prote√≠nas motoras asociadas a microt√∫bulos que utilizan:", options: ["la hidr√≥lisis del ATP para desplazarse al extremo +", "la hidr√≥lisis del ATP para desplazarse al extremo -", "la hidr√≥lisis del GTP para desplazarse al extremo +", "la hidr√≥lisis del GTP para desplazarse al extremo"], correct: 1 },
        { q: "En relaci√≥n a los microfilamentos, es FALSO que:", options: ["pueden formar filopodios y lamelipodios", "son estructuras filamentosas constituidas por actina", "participan en la formaci√≥n del anillo contr√°ctil en la divisi√≥n", "s√≥lo pueden crecer por su extremo m√°s"], correct: 3 },
        { q: "En las membranas es cierto que:", options: ["Todas las prote√≠nas est√°n agrupadas en la misma zona", "las prote√≠nas perif√©ricas se encuentran siempre en la cara extracelular", "las prote√≠nas est√°n orientadas seg√∫n sus dominios", "las prote√≠nas perif√©ricas se encuentran siempre en la cara citos√≥lica"], correct: 2 },
        { q: "Entre las propiedades de las histonas:", options: ["los nucleosomas se unen tan fuertemente al DNA que no se pueden mover de la posici√≥n donde han sido ensamblados", "presentan una cola de amino√°cidos con carga negativa que permite su uni√≥n estrecha al DNA", "presentan un n√∫cleo globular que les confiere afinidaad al DNA", "presentan un n√∫cleo globular que les confiere afinidad entre ellas"], correct: 3 },
        { q: "¬øEn qu√© caso son necesarios los detergentes para solubilizar prote√≠nas de membrana?", options: ["prote√≠nas perif√©ricas de la superficie externa ancladas a prote√≠nas integrales", "prote√≠nas perif√©ricas de la superficie interna ancladas a prote√≠nas integrales", "prote√≠nas perif√©ricas ancladas a l√≠pidos", "prote√≠nas integrales"], correct: 3 },
        { q: "El centrosoma:", options: ["se localiza generalmente en la periferia celular", "es la estructura celular que mantiene adherida a las c√©lulas", "es la unidad estructural del ADN", "es el principal centro organizador de microt√∫bulos en c√©lulas animales"], correct: 3 },
        { q: "¬øPor qu√© la c√©lula utiliza el Ca2+ como segundo mensajero en lugar de otra mol√©cula, como por ejemplo el Na+?", options: ["la concentraci√≥n citos√≥lica del Na+ es muy alta", "la concentraci√≥n citos√≥lica de Ca2+ es muy alta", "la concentraci√≥n citos√≥lica de Ca2+ es muy baja", "la concentraci√≥n citos√≥lica del Na+ es muy baja"], correct: 2 },
        { q: "En relaci√≥n a la prote√≠na G, la activaci√≥n depende de prote√≠nas que catalizan el intercambio:", options: ["ATP-ADP", "ATP-GTP", "ATP-CAMP", "GTP-GDP"], correct: 3 },
        { q: "¬øCu√°l de las siguientes afirmaciones sobre el corp√∫sculo basal es FALSA?", options: ["es capaz de polimerizar microfilamentos", "se encuentra en la base de cilios y flagelos", "su estructura es de 9x3 microt√∫bulos", "su estructura es semejante a la del centriolo"], correct: 0 },
        { q: "Los microt√∫bulos:", options: ["se forman por la polimerizaci√≥n reversible de la tubulina", "son los elementos m√°s estables del citoesqueleto", "se sit√∫an por debajo de la membrana plasm√°tica formando el c√≥rtex celular", "se organizan formando haces paralelos"], correct: 0 },
        { q: "La inestabilidad din√°mica es el proceso por el cual:", options: ["las microvellosidades forman un frente de avance en una c√©lula en migraci√≥n", "unos microt√∫bulos polimerizan mientras otros despolimerizan", "la c√©lula incorpora l√≠pidos a la membrana plasm√°tica", "los microt√∫bulos se organizan en haces paralelos"], correct: 1 },
        { q: "Podr√≠amos comparar la se√±alizaci√≥n autocrina con:", options: ["hablar con gente en un botell√≥n", "una conversaci√≥n telef√≥nica", "hablar consigo mismo", "un anuncio por radio"], correct: 2 },

        // --- BLOQUE 2: Examen 2024 / Biolog√≠a I (Continuaci√≥n) ---
        { q: "Los microt√∫bulos, al asociarse formando dobletes, el primero presenta 13 protofilamentos, y el segundo:", options: ["13, al igual que los dem√°s.", "10, pues comparte 3 con el primero.", "9, pues comparte 4 con el primero.", "3, pues comparte 10 con el primero."], correct: 1 },
        { q: "¬øCu√°l de las siguientes sustancias no puede atravesar la membrana plasm√°tica por difusi√≥n simple?", options: ["H2O.", "N2.", "CO2.", "HCO3."], correct: 3 },
        { q: "\"Sincitio funcional\" hace referencia a:", options: ["C√©lulas que se fusionan para funcionar como una √∫nica c√©lula.", "Espacio vac√≠o que no cumple ninguna funci√≥n aparente.", "Espacio intercelular con funciones concretas.", "C√©lulas de distintos √≥rganos que realizan funciones similares."], correct: 0 },
        { q: "La cara del complejo del poro nuclear orientada hacia el nucleoplasma, se reconoce por:", options: ["No presenta filamentos.", "La presencia de la cesta nuclear donde se recogen los filamentos.", "Los filamentos cumplen simetr√≠a octogonal.", "No se puede diferenciar."], correct: 1 },
        { q: "¬øEn la regi√≥n de los poros nucleares hay l√°mina nuclear?", options: ["S√≠, y es resistente como en el resto del revestimiento interno del n√∫cleo.", "S√≠, y se disuelve cuando se va a producir intercambio de sustancias para luego volver a recomponerse.", "No, permitiendo as√≠ el intercambio de sustancias n√∫cleo-citoplasma.", "No, puesto que en el n√∫cleo s√≥lo hay membrana nuclear externa e interna."], correct: 2 },
        { q: "En el proceso de importe de prote√≠nas al n√∫cleo, el p√©ptido se√±al de localizaci√≥n nuclear (NLS) se une a:", options: ["Ran Gdp.", "Carga.", "Importina.", "Exportina."], correct: 2 },
        { q: "La cromatina:", options: ["Est√° formada por prote√≠nas del n√∫cleo, ADN y a veces ARN.", "Puede estar en estado de eucromatina (estado activo).", "Puede estar en estado de heterocromatina (estado activo).", "No se asocia con la l√°mina nuclear."], correct: 1 },
        { q: "El ARNr se transcribe a partir del ADN por:", options: ["ARN-polimerasa I.", "ARN-polimerasa II.", "ARN-polimerasa III.", "Las tres."], correct: 0 },
        { q: "En el ADN, la informaci√≥n para el ARNr se encuentra en:", options: ["ORI.", "ORC.", "Organizadores nucleolares.", "Tel√≥meros."], correct: 2 },
        { q: "Los procesos de transcripci√≥n y traducci√≥n se llevan a cabo a la vez en el citoplasma en los organismos procariontes. Por tanto, en las c√©lulas eucariotas:", options: ["Primero la traducci√≥n en el citoplasma y luego la transcripci√≥n en el n√∫cleo.", "Primero la traducci√≥n en el n√∫cleo y luego la transcripci√≥n en el n√∫cleo.", "La traducci√≥n en el citoplasma y la transcripci√≥n en el n√∫cleo, pero ambos procesos a la vez.", "Primero la transcripci√≥n en el n√∫cleo y luego la traducci√≥n en el citoplasma."], correct: 3 },
        { q: "¬øCu√°l de las siguientes caracter√≠sticas no hace referencia al c√≥digo gen√©tico?", options: ["Es degenerado.", "Es universal.", "Es un sistema de codones.", "Tiene 16 codones distintos."], correct: 3 },
        { q: "El cod√≥n de inicio (AUG), codifica para:", options: ["Valina.", "Metionina.", "Alanina.", "Histidina."], correct: 1 },
        { q: "Las prote√≠nas chaperonas:", options: ["Evitan el mal plegamiento de la prote√≠na.", "A√±aden a la prote√≠na carbohidratos de 14 subunidades.", "Quitan a la prote√≠na carbohidratos de 14 subunidades.", "Reconocen al PRS."], correct: 0 },
        { q: "Los complejos Tom y Tim se encuentran en:", options: ["Ret√≠culo endopl√°smico.", "Aparato de Golgi.", "Lisosoma.", "Mitocondria."], correct: 3 },
        { q: "La prote√≠na Bcl2 presente en las mitocondrias, interviene en procesos de:", options: ["Necrosis.", "Crecimiento celular.", "Proliferaci√≥n celular.", "Apoptosis."], correct: 3 },
        { q: "El proceso de detoxificaci√≥n es realizado por:", options: ["Lisosoma.", "Ret√≠culo endoplasm√°tico rugoso.", "Ret√≠culo endoplasm√°tico liso.", "Microt√∫bulos."], correct: 2 },
        { q: "La microscop√≠a que permite visualizar las estructuras de forma tridimensional (por medio de programas inform√°ticos), es:", options: ["Microscop√≠a √≥ptica de fluorescencia.", "Microscop√≠a electr√≥nica de barrido.", "Microscop√≠a √≥ptica de interferencia de Nomarski.", "Microscop√≠a electr√≥nica de transmisi√≥n."], correct: 1 },
        { q: "El axonema tiene estructura de:", options: ["9 dobletes de microt√∫bulos con 3 microt√∫bulos centrales.", "10 dobletes de microt√∫bulos con 2 microt√∫bulos centrales.", "9 tripletes de microt√∫bulos con 2 microt√∫bulos centrales.", "9 dobletes de microt√∫bulos con 2 microt√∫bulos centrales."], correct: 3 },
        { q: "¬øQu√© filamento presenta m√°s resistencia?", options: ["Microt√∫bulos.", "Microfilamentos.", "Filamentos intermedios.", "Todos por igual."], correct: 2 },
        { q: "¬øCu√°l de las siguientes prote√≠nas no pertenece a las uniones ocluyentes?", options: ["Fimbrina.", "Jam.", "Ocludina.", "Claudina."], correct: 0 },
        { q: "¬øCu√°l es el punto por el que tienen que pasar todas las c√©lulas para poder continuar con su ciclo celular conocido como 'punto de no retorno'?", options: ["G2.", "S.", "Punto R o 'start'.", "Quiescencia."], correct: 2 },
        { q: "El punto de control de G1 no comprueba:", options: ["Tama√±o de la c√©lula.", "Da√±o en el ADN.", "Correcta replicaci√≥n del ADN.", "Que el entorno sea favorable."], correct: 2 },
        { q: "El √°ster est√° formado por:", options: ["Microt√∫bulos polares.", "Microt√∫bulos astrales.", "Microt√∫bulos cinetoc√≥ricos.", "Todos los anteriores."], correct: 1 },
        { q: "Las zonas por las que se va a producir la recombinaci√≥n g√©nica se conocen como:", options: ["Quiasmas.", "N√≥dulos de recombinaci√≥n.", "Complejo sinapton√©mico.", "Placas de uni√≥n."], correct: 1 },
        { q: "Para poner los resultados de los cruzamientos se utiliza:", options: ["Tabla de contingencia.", "Campana de Gauss.", "tabla de Punnet.", "Ninguno de los anteriores."], correct: 2 },
        { q: "La ley de la segregaci√≥n de los factores de Mendel, establece que se cumplen las proporciones:", options: ["1/2 : 1/2", "9:3:3:1.", "9:3:2:2.", "4:6:2:4."], correct: 0 },
        { q: "Una herencia autos√≥mica domintante se caracteriza por:", options: ["Hay salto generacional.", "No se puede transmitir de padre afectado a hijo varon.", "Los afectados son los individuos homocig√≥ticos recesivos.", "El rasgo lo transmite una persona enferma."], correct: 3 },
        { q: "La alopecia androg√©nica...", options: ["Es ligada al sexo.", "Se da m√°s en mujeres que en hombres.", "Es una enfermedad limitada por el sexo.", "Se manifiesta m√°s en hombres al ser una herencia influida por el sexo."], correct: 3 },
        { q: "¬øCu√°l de las siguientes enfermedades presenta el fen√≥meno de anticipaci√≥n?", options: ["Enfermedad de Huntington.", "Daltonismo.", "Hemofilia.", "S√≠ndrome de Morris."], correct: 0 },
        { q: "La ley de Hardy Weinberg establece que:", options: ["Un car√°cter desaparece fenot√≠picamente en la F1 pero vuelve a aparecer en la proporci√≥n de % en la F2.", "Las frecuencias g√©nicas de una generaci√≥n determinada dependen exclusivamente de las frecuencias g√©nicas de la generaci√≥n anterior.", "Los genes no relacionados se transmiten de forma independiente.", "Ninguna de las anteriores."], correct: 1 },
        { q: "¬øCu√°les de los siguientes factores pueden alterar el equilibro de Hardy-Weinberg?", options: ["Migraci√≥n.", "Mutaci√≥n.", "Apareamiento no al azar.", "Todas las anteriores."], correct: 3 },
        { q: "En las mutaciones estables por sustituci√≥n del tipo transici√≥n, ocurre que:", options: ["Se elimina una base.", "Se gira una base 180¬∫.", "Se sustituye una base por otra del mismo tipo.", "Se a√±ade otra base."], correct: 2 },
        { q: "La tasa media de mutaci√≥n por locus y generaci√≥n en humanos es de:", options: ["Depende del individuo.", "74.", "4-23 (o aprox 10^-5/10^-6)", "10-6"], correct: 2 },
        { q: "El periodo embrionario se divide en:", options: ["Embrionario y fetal.", "Preembrionario, embrionario y fetal.", "Todas las etapas hasta la neonatal.", "Preembrionario y embrionario."], correct: 1 },
        { q: "Los oocitos primarios detienen su meiosis en:", options: ["Paquitene.", "Diplotene.", "Metafase.", "Prometafase."], correct: 1 },
        { q: "El ciclo ov√°rico se activa por:", options: ["Gonadotropinas.", "Protaminas.", "Oligosacaril transferasas.", "Contenido de los gr√°nulos corticales."], correct: 0 },
        { q: "¬øQu√© participa en la capacitaci√≥n del espermatozoide?", options: ["Gonadotropinas.", "Protaminas.", "Oligosacaril transferasas.", "Contenido de los gr√°nulos corticales."], correct: 3 },
        { q: "Las espermatogonias y las oogonias proceden de:", options: ["Espermatocitos y oocitos primarios.", "Espermatocitos y oocitos secundarios.", "C√©lulas germinativas primordiales.", "Ninguna de las anteriores."], correct: 2 },
        { q: "La dotaci√≥n gen√©tica de las oogonias es:", options: ["46 cromosomas, 2 crom√°tidas y 2N.", "23 cromosomas, 2 crom√°tidas y 2N.", "23 cromosomas, 2 crom√°tidas y N.", "46 cromosomas, 4 crom√°tidas y 2N."], correct: 0 },
        { q: "La carga gen√©tica del primer corp√∫sculo polar es:", options: ["La misma que la del oocito secundario.", "La misma que la del √≥vulo.", "46 cromosomas, 2 crom√°tidas y 2N.", "46 cromosomas, 4 crom√°tidas y 2N."], correct: 0 },
        { q: "El espermatozoide:", options: ["Contiene gonadotropinas.", "Tiene 23 cromsomas, 2 crom√°tidas y N.", "Contiene protaminas.", "Tiene histonas."], correct: 2 },
        { q: "Los receptores para O-ligados oligosac√°ridos se encuentran en la zona pel√∫cida del √≥vulo, m√°s concretamente en las prote√≠nas del tipo:", options: ["ZP1.", "ZP2.", "ZP3.", "ZP4."], correct: 2 },
        { q: "En los 3 primeros d√≠as de divisiones, el cigoto mantiene su tama√±o. Este fen√≥meno se conoce como:", options: ["Blastocele.", "Holobl√°stica igual.", "Transformaci√≥n decidual.", "Compactaci√≥n."], correct: 1 },
        { q: "El blastocisto se implanta por la zona del:", options: ["Polo embrionario.", "Polo abembrionario.", "Citotrofoblasto.", "Blastocele."], correct: 0 }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let answered = false;

    const questionElement = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    const nextBtn = document.getElementById("next-btn");
    const progressText = document.getElementById("progress");
    const scoreText = document.getElementById("score");
    const quizBox = document.getElementById("quiz-box");
    const resultBox = document.getElementById("result-box");
    const finalScore = document.getElementById("final-score");
    const totalQuestions = document.getElementById("total-questions");

    function loadQuestion() {
        answered = false;
        nextBtn.style.display = "none";
        
        const currentQuestion = questions[currentQuestionIndex];
        
        // Actualizar textos
        questionElement.innerText = `${currentQuestionIndex + 1}. ${currentQuestion.q}`;
        progressText.innerText = `Pregunta ${currentQuestionIndex + 1} de ${questions.length}`;
        
        // Limpiar opciones anteriores
        optionsContainer.innerHTML = "";

        // Generar botones de opci√≥n
        currentQuestion.options.forEach((option, index) => {
            const button = document.createElement("button");
            button.innerText = option;
            button.classList.add("option-btn");
            button.onclick = () => checkAnswer(index, button);
            optionsContainer.appendChild(button);
        });
    }

    function checkAnswer(selectedIndex, selectedButton) {
        if (answered) return;
        answered = true;

        const currentQuestion = questions[currentQuestionIndex];
        const allButtons = optionsContainer.children;

        if (selectedIndex === currentQuestion.correct) {
            selectedButton.classList.add("correct");
            score++;
            scoreText.innerText = `Aciertos: ${score}`;
        } else {
            selectedButton.classList.add("incorrect");
            // Mostrar la correcta
            allButtons[currentQuestion.correct].classList.add("correct");
        }

        // Deshabilitar todos los botones
        for (let btn of allButtons) {
            btn.disabled = true;
            btn.style.cursor = "default";
        }

        // Mostrar bot√≥n siguiente
        nextBtn.style.display = "block";
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            loadQuestion();
        } else {
            showResults();
        }
    }

    function showResults() {
        quizBox.style.display = "none";
        resultBox.style.display = "block";
        finalScore.innerText = score;
        totalQuestions.innerText = questions.length;
    }

    function restartQuiz() {
        currentQuestionIndex = 0;
        score = 0;
        scoreText.innerText = "Aciertos: 0";
        quizBox.style.display = "block";
        resultBox.style.display = "none";
        loadQuestion();
    }

    // Iniciar el quiz
    loadQuestion();
</script>
<script>
(function() {
    // 1. Obtener ID del examen
    const params = new URLSearchParams(window.location.search);
    const testId = params.get('id');

    if (testId) {
        // 2. Vigilar cuando aparece la caja de resultados
        const resultBox = document.getElementById('result-box');
        
        // Creamos un observador que detecta cambios en el estilo (display: none -> block)
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // Si la caja de resultados se hace visible
                if (resultBox.style.display === 'block') {
                    
                    // A. Leer la puntuaci√≥n que calcul√≥ el test
                    // El test pone el n√∫mero de aciertos en el span id="final-score"
                    const scoreText = document.getElementById('final-score').innerText;
                    // Limpiamos el texto por si dice "50 / 80" o solo "50"
                    const aciertos = parseInt(scoreText.split('/')[0]);
                    
                    // B. Calcular porcentaje (usamos la variable 'questions' que ya existe en tu test)
                    const total = questions.length;
                    const porcentaje = Math.round((aciertos / total) * 100);

                    // C. Guardar datos
                    let intentos = parseInt(localStorage.getItem('intentos_' + testId) || 0);
                    localStorage.setItem('intentos_' + testId, intentos + 1);

                    let notaMax = localStorage.getItem('nota_' + testId);
                    if (!notaMax || porcentaje > parseInt(notaMax)) {
                        localStorage.setItem('nota_' + testId, porcentaje);
                    }

                    // D. A√±adir bot√≥n de "Volver" si no existe
                    if (!document.getElementById('btn-volver-menu')) {
                        const btn = document.createElement('button');
                        btn.id = 'btn-volver-menu';
                        btn.innerText = "üè† Volver al √çndice";
                        btn.style.cssText = "display:block; margin: 20px auto; padding: 15px 30px; background: #2c3e50; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1em; font-weight: bold;";
                        btn.onclick = function() { window.location.href = 'index.html'; };
                        resultBox.appendChild(btn);
                    }
                }
            });
        });

        // Iniciar la vigilancia
        observer.observe(resultBox, { attributes: true, attributeFilter: ['style'] });
    }
})();
</script>

</body>
</html>