<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Biofísica Respiratoria</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0fdf4;
            color: #1a1a1a;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #15803d; /* Green tone */
            margin-bottom: 10px;
        }
        .intro-text {
            text-align: center;
            margin-bottom: 30px;
            color: #6c757d;
        }
        .counter {
            text-align: center;
            font-size: 1.1em;
            color: #fff;
            background-color: #15803d;
            padding: 8px 15px;
            border-radius: 20px;
            width: fit-content;
            margin: 0 auto 25px auto;
            box-shadow: 0 4px 6px rgba(21, 128, 61, 0.2);
        }
        .question-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-left: 5px solid #bbf7d0;
            transition: transform 0.2s;
        }
        .question-card:hover {
            border-left-color: #15803d;
        }
        .question-header {
            font-size: 0.85em;
            color: #86efac;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
            color: #166534;
        }
        .question-text {
            font-weight: 600;
            font-size: 1.15em;
            margin-bottom: 20px;
            color: #343a40;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .option-btn {
            padding: 14px 18px;
            border: 2px solid #e9ecef;
            background: #fff;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
            font-size: 1em;
            color: #495057;
        }
        .option-btn:hover:not(:disabled) {
            background-color: #dcfce7;
            border-color: #15803d;
        }
        .option-btn:disabled {
            cursor: default;
            opacity: 0.7;
        }
        .correct {
            background-color: #d1e7dd !important;
            border-color: #198754 !important;
            color: #0f5132 !important;
        }
        .incorrect {
            background-color: #f8d7da !important;
            border-color: #dc3545 !important;
            color: #842029 !important;
        }
        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: #f0fdf4;
            border-left: 5px solid #22c55e;
            border-radius: 4px;
            display: none;
            font-size: 0.95em;
        }
        .explanation.visible {
            display: block;
            animation: fadeIn 0.5s;
        }
        .diagram-container {
            text-align: center;
            margin-top: 10px;
            margin-bottom: 10px;
            font-style: italic;
            color: #555;
            font-size: 0.9em;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>

    <h1>Biofísica: Respiratorio y Superficies</h1>
    <p class="intro-text">Tensión superficial, Surfactantes y Ventilación</p>
    
    <div id="counter" class="counter">Cargando preguntas...</div>
    <div id="quiz-container"></div>

<script>
    const quizData = [
        { q: "1. El volumen residual pulmonar se estima en:", opts: ["30%", "10%", "20%", "5%"], a: "20%" },
        { q: "2. El ángulo de conjunción para un líquido que moja es:", opts: ["Mayor de 90º", "Menor de 90º", "Igual a 90º", "Igual al ángulo de contacto"], a: "Menor de 90º" },
        { q: "3. Según la ley de Laplace, cuando una burbuja crece, el radio aumenta y:", opts: ["La tensión superficial disminuye", "La presión aumenta", "La presión disminuye", "La tensión superficial aumenta"], a: "La presión disminuye" },
        { q: "4. ¿Cuáles son los procesos involucrados en el intercambio gaseoso entre sangre y pulmones?", opts: ["Pandeo y vaciado", "Densidad y velocidad", "Difusión y ventilación", "Perfusión y ventilación"], a: "Perfusión y ventilación" },
        { q: "5. La unidad de la tensión superficial en el S.I., es:", opts: ["Kg/s", "N.m/s", "N.m", "N/m"], a: "N/m" },
        { q: "6. En la pared alveolar el O2 se difunde más rápidamente que el CO2 porque:", opts: ["La masa del primero es menor que la del segundo", "Es más reactivo", "La masa del primero es mayor que la del segundo", "La solubilidad del Oxígeno en la sangre es mayor que la del dióxido de carbono"], a: "La masa del primero es menor que la del segundo" },
        { q: "7. Cuando disminuye la superficie de un líquido no surfactante, la tensión superficial:", opts: ["Se anula", "Permanece constante", "Disminuye", "Aumenta"], a: "Permanece constante" },
        { q: "8. La presión parcial del oxígeno en el aire alveolar es:", opts: ["20 mm de Hg", "80 mm de Hg", "100 mm de Hg", "40 mm Hg"], a: "100 mm de Hg" },
        { q: "9. En un pulmón normal, el 90% de su superficie corresponde a zonas con:", opts: ["Buena perfusión", "Buena ventilación", "Pobre ventilación", "La a) y b)"], a: "La a) y b)" },
        { q: "10. El valor del cociente respiratorio es:", opts: ["1", "Menor que 1", "Mayor que 1", "0"], a: "Menor que 1" },
        { q: "11. El Quimógrafo es un componente de:", opts: ["El fonendoscopio", "El espirómetro", "El esfigmomanómetro", "El estetoscopio"], a: "El espirómetro" },
        { q: "12. En la pared alveolar el O2 difunde más rápido que el CO2 porque (Repetida):", opts: ["Su masa es menor", "Es más rápido", "Es más reactivo", "Es más soluble en sangre que el CO2"], a: "Su masa es menor" },
        { q: "13. La presión alveolar es respecto a la atmosférica en la inspiración:", opts: ["3mm de Hg mayor", "3mm de Hg menor (aprox. -1 a -3 mmHg)", "Igual a la atmosférica", "Igual a la presión de CO2"], a: "3mm de Hg menor (aprox. -1 a -3 mmHg)" },
        { q: "14. La compliancia del aparato respiratorio para el hombre en la zona de respiración normal es:", opts: ["0,01 l/cm agua", "0,1 l/cm agua", "0,01 l/mm de Hg", "0,1 mm de Hg"], a: "0,1 l/cm agua" },
        { q: "15. Cuando disminuye la superficie de un líquido surfactante, la tensión superficial:", opts: ["Aumenta", "Disminuye", "Permanece constante", "Se anula"], a: "Disminuye" },
        { q: "16. El modelo burbuja y membrana elástica del alveolo con tensión superficial constante:", opts: ["Utiliza la ecuación de Laplace", "Explica la fase de llenado", "Explica la fase de vaciado", "La a y b"], a: "Utiliza la ecuación de Laplace" },
        { q: "17. En el modelo burbuja con el líquido surfactante disminuyendo la superficie:", opts: ["Las curvas V/P se desplazan hacia la derecha", "Las curvas V/P se desplazan hacia la izquierda (Mayor complianza)", "La tensión superficial es constante", "No se alteran las curvas V/P"], a: "Las curvas V/P se desplazan hacia la izquierda (Mayor complianza)" },
        { q: "18. Un método de diagnóstico de enfermedades del sistema respiratorio es la obtención del:", opts: ["Electrocardiograma", "Balistocardiograma", "Espirograma", "Termograma"], a: "Espirograma" },
        { q: "19. La embolia pulmonar, producirá una zona con:", opts: ["Pobre ventilación", "Buena perfusión", "Pobre perfusión", "Buena ventilación"], a: "Pobre perfusión" },
        { q: "20. La perfusión es:", opts: ["Suministro de aire a la superficie alveolar", "Aumento de la presión pulmonar", "Suministro de sangre a los capilares pulmonares", "Expulsión de la sangre del corazón"], a: "Suministro de sangre a los capilares pulmonares" },
        { q: "21. Se denomina capacidad funcional residual a:", opts: ["Volumen de aire expulsado por los pulmones en cada espiración", "Razón de O2 espirado y O2 inspirado", "Volumen de aire introducido en los pulmones en cada inspiración", "Volumen de aire retenido en los pulmones al final de cada espiración"], a: "Volumen de aire retenido en los pulmones al final de cada espiración" },
        { q: "22. La proporcionalidad que existe entre la cantidad de O2 disuelta en la sangre y la presión parcial de O2 en la fase gaseosa se conoce como:", opts: ["Ley de la difusión", "Ley de Dalton de las presiones parciales", "Ley de Henry de la solubilidad de gases", "Perfusión"], a: "Ley de Henry de la solubilidad de gases" },
        { q: "23. Se entiende por índice de refracción de un medio al cociente entre la velocidad de la luz en:", opts: ["El vacío y dicho medio", "El agua y dicho medio", "El aire y el agua", "El aire y el cuerpo humano"], a: "El vacío y dicho medio" },
        { q: "24. La tensión superficial:", opts: ["Es una característica del líquido", "Da origen a fuerzas perpendiculares a la superficie", "Da lugar a fuerzas paralelas a la superficie", "a y c son ciertas"], a: "a y c son ciertas" },
        { q: "25. La tensión superficial depende:", opts: ["Del líquido", "Del medio", "a y b son ciertas", "De la temperatura"], a: "a y b son ciertas" },
        { q: "26. El cociente respiratorio relaciona:", opts: ["Valor calórico del O2 consumido con el volumen de carbónico eliminado", "Volúmenes de O2 consumidos con volúmenes de CO2 eliminados", "El volumen de O2 consumido con el valor calórico del CO2 excretado", "Los valores calóricos del O2 consumido con y del carbónico"], a: "Volúmenes de O2 consumidos con volúmenes de CO2 eliminados" },
        { q: "27. La perfusión es (Repetida):", opts: ["Suministro de aire a la superficie alveolar", "Aumento de la presión pulmonar", "Suministro de sangre a los capilares pulmonares", "Expulsión de sangre del corazón"], a: "Suministro de sangre a los capilares pulmonares" },
        { q: "28. Con un espirómetro no se podrá obtener:", opts: ["El volumen inspirado por los pulmones", "El volumen espirado por los pulmones", "La capacidad funcional residual de los pulmones", "a y b"], a: "La capacidad funcional residual de los pulmones" },
        { q: "29. La proporcionalidad que existe entre la cantidad de O2 disuelta en sangre y la presión parcial de O2 en la fase gaseosa se conoce como:", opts: ["Ley de la difusión", "Ley de Dalton de las presiones parciales", "Ley de Henry de la solubilidad de los gases", "Perfusión"], a: "Ley de Henry de la solubilidad de los gases" },
        { q: "30. El proceso que consiste en suministrar sangre a los capilares se denomina:", opts: ["Difusión", "Perfusión", "Ventilación", "Estenosis"], a: "Perfusión" },
        { q: "31. La presión parcial del dióxido de carbono en el aire alveolar es de:", opts: ["40 mmHg", "20 mmHg", "80 mmHg", "100 mmHg"], a: "40 mmHg" },
        { q: "32. En la ley de Jurin, una de las siguientes afirmaciones no es correcta:", opts: ["La altura es inversamente proporcional al radio", "La altura en el capilar es inversamente proporcional a la gravedad", "La altura en el capilar es inversamente proporcional a la densidad", "La altura en el capilar es inversamente proporcional a la tensión superficial"], a: "La altura en el capilar es inversamente proporcional a la tensión superficial" },
        { q: "33. Respecto a la tensión interfacial se dice:", opts: ["Si es positiva, no hay humectación", "Si es positiva hay humectación (Coeficiente de extensión)", "Si es negativa, no hay humectación", "La b y la c son ciertas"], a: "Si es positiva hay humectación (Coeficiente de extensión)" },
        { q: "34. En una embolia pulmonar (obstrucción, por un coágulo, de un vaso sanguíneo que suministra sangre a una parte del pulmón), se produce:", opts: ["Aumento de la ventilación", "Aumento de la difusión", "Engrosamiento de la pared alveolar", "Disminución de la perfusión"], a: "Disminución de la perfusión" },
        { q: "35. La causa por la que la característica presión y volumen del pulmón presenta un ciclo de histéresis es:", opts: ["La ley de Hooke", "La tensión superficial del líquido surfactante que baña a los alvéolos", "El teorema de Bernoulli", "El ángulo de contacto"], a: "La tensión superficial del líquido surfactante que baña a los alvéolos" },
        { q: "36. Los líquidos surfactantes son aquellos que:", opts: ["Recubren el alveolo", "Su tensión superficial se anula", "Varían su tensión superficial según el espacio que ocupen", "Su tensión superficial permanece constante"], a: "Varían su tensión superficial según el espacio que ocupen" },
        { q: "37. Se denomina razón de intercambio respiratorio o cociente R respiratorio a:", opts: ["Razón de O2 que se expulsa y CO2 que entra en los pulmones", "Razón de CO2 que se expulsa y O2 que entra en los pulmones", "Volumen retenido al final de cada respiración", "Volumen total de O2 inspirado"], a: "Razón de CO2 que se expulsa y O2 que entra en los pulmones" },
        { q: "38. La ventilación consiste en:", opts: ["Suministro de sangre a los capilares pulmonares", "Suministro de aire a la superficie alveolar", "Determinar el volumen de gas espirado", "Renovación periodica del aire alveolar : expiración mas inspiracion"], a: "Renovación periodica del aire alveolar : expiración mas inspiracion" },
        { q: "39. En una pulmonía el área involucrada tendrá:", opts: ["Pobre perfusión", "Buena ventilación", "Mala ventilación", "La a y la c"], a: "Mala ventilación" },
        { q: "40. Cuando aumenta la superficie de un liquido no surfactante la tensión superficial:", opts: ["Aumenta", "Disminuye", "Se anula", "Se mantiene constante"], a: "Se mantiene constante" },
        { q: "41. Cuando aumenta la superficie de un liquido surfactante la tensión superficial:", opts: ["Aumenta (al disminuir concentración superficial)", "Disminuye", "Permanece constante", "Se anula"], a: "Aumenta (al disminuir concentración superficial)" },
        { q: "42. El cociente R o razón de intercambio es:", opts: ["Razón entre CO2 expulsado y O2 introducido en los pulmones", "Razón entre O2 expulsado y CO2 introducido en los pulmones", "Generalmente inferior a 1", "La a y la c"], a: "La a y la c" },
        { q: "43. El fenómeno de la capilaridad es una consecuencia de:", opts: ["La existencia de un ángulo de conjunción dependiente de la tensión interfacial", "El teorema de Laplace", "El teorema de Bernoulli", "La b y la c conjuntamente (Nota: en teoría debería ser a y b)"], a: "La existencia de un ángulo de conjunción dependiente de la tensión interfacial" },
        { q: "44. El proceso general de intercambio de O2 y CO2 entre los alvéolos y la sangre se rige por:", opts: ["La ecuación de continuidad", "La ley de las presiones parciales de Dalton (y difusión)", "El teorema de Bernoulli", "La ley de Poiseuille"], a: "La ley de las presiones parciales de Dalton (y difusión)" },
        { q: "45. Los líquidos surfactantes son aquellos que:", opts: ["Mojan a un sólido", "Varían su tensión superficial según el espacio que ocupan", "Su tensión superficial permanece constante", "Su tensión superficial se anula"], a: "Varían su tensión superficial según el espacio que ocupan" },
        { q: "46. Cuando disminuye la superficie de un líquido no surfactante, la tensión superficial:", opts: ["Aumenta", "Disminuye", "Se mantiene constante", "Se anula"], a: "Se mantiene constante" },
        { q: "47. Cuando la tensión interfacial es positiva:", opts: ["El sólido ejerce más fuerza que el líquido", "El líquido ejerce más fuerza que el sólido", "Ambos ejercen la misma fuerza", "Ninguna es correcta"], a: "El líquido ejerce más fuerza que el sólido" },
        { q: "48. ¿Cuáles son los procesos involuntarios en el intercambio gaseoso entre sangre y pulmones?", opts: ["Perfusión y ventilación", "Pandeo y vaciado", "Densidad y velocidad", "Difusión y ventilación"], a: "Difusión y ventilación" },
        { q: "49. ¿Qué dura más?", opts: ["Este test", "La vida universitaria de Machuka"], a: "La vida universitaria de Machuka" },
        { q: "50. Tiene la doble nacionalidad:", opts: ["Bartelinho", "Mr bottle"], a: "Bartelinho" },
        { q: "51. La mejor cerveza:", opts: ["Alhambra", "Cruzcampo", "Estrella Galicia"], a: "Estrella Galicia" }
    ];

    function shuffleArray(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex != 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
        }
        return array;
    }

    const container = document.getElementById('quiz-container');
    const counterDiv = document.getElementById('counter');

    function renderQuiz() {
        counterDiv.textContent = `Preguntas cargadas: ${quizData.length}`;

        quizData.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';

            const header = document.createElement('div');
            header.className = 'question-header';
            header.textContent = `Pregunta ${index + 1}`;
            card.appendChild(header);

            const questionText = document.createElement('div');
            questionText.className = 'question-text';
            questionText.textContent = item.q;
            card.appendChild(questionText);

            // Inserción de diagramas según contexto (Ayuda visual)
            if (index === 0 || index === 20) {
                // Diagrama de volúmenes pulmonares
                questionText.innerHTML += `<br>`;
            } else if (index === 2 || index === 15) {
                // Diagrama de tensión superficial/Laplace
                questionText.innerHTML += `<br>`;
            } else if (index === 3 || index === 33) {
                 // Diagrama de intercambio gaseoso
                 questionText.innerHTML += `<br>

[Image of alveolar gas exchange diagram]
`;
            }

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options-container';

            let optionsObj = item.opts.map(opt => ({
                text: opt,
                isCorrect: opt === item.a
            }));

            optionsObj = shuffleArray(optionsObj);

            optionsObj.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt.text;

                btn.onclick = () => {
                    const siblings = optionsDiv.querySelectorAll('.option-btn');
                    siblings.forEach(sibling => sibling.disabled = true);

                    if (opt.isCorrect) {
                        btn.classList.add('correct');
                    } else {
                        btn.classList.add('incorrect');
                        siblings.forEach(sibling => {
                            if (sibling.textContent === item.a) {
                                sibling.classList.add('correct');
                            }
                        });
                    }
                    explanationDiv.classList.add('visible');
                };
                optionsDiv.appendChild(btn);
            });

            card.appendChild(optionsDiv);

            const explanationDiv = document.createElement('div');
            explanationDiv.className = 'explanation';
            explanationDiv.innerHTML = `<strong>Respuesta Correcta:</strong> ${item.a}`;
            card.appendChild(explanationDiv);

            container.appendChild(card);
        });
    }

    renderQuiz();
</script>

</body>
</html>
