<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Física Bloque 5 (401-500)</title>
    <style>
        :root {
            --primary: #0277bd; /* Light Blue Dark */
            --secondary: #e1f5fe;
            --accent: #0288d1;
            --success: #2e7d32;
            --error: #c62828;
            --text: #263238;
            --bg-color: #f1f8e9;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding-top: 110px;
            padding-bottom: 60px;
        }

        /* HEADER FIJO */
        #header-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, #01579b, #0277bd);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
        }

        .header-content {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 { margin: 0; font-size: 1.4rem; font-weight: 700; letter-spacing: 0.5px; }
        
        .score-board {
            background: rgba(0,0,0,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        /* PROGRESS BAR */
        #progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.2);
            margin-top: 10px;
        }
        #progress-fill {
            height: 100%;
            background: #81d4fa;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* CONTAINER */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* CARD */
        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 6px solid transparent;
            transition: transform 0.2s;
        }

        .card:hover { transform: translateY(-2px); }
        .card.correct { border-left-color: var(--success); }
        .card.incorrect { border-left-color: var(--error); }

        .question-header {
            font-size: 0.85rem;
            color: #0277bd;
            text-transform: uppercase;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            color: #263238;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        /* OPTIONS */
        .options-grid {
            display: grid;
            gap: 10px;
        }

        .option-btn {
            background: #fff;
            border: 2px solid #b3e5fc;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            color: var(--text);
            transition: all 0.2s;
            position: relative;
        }

        .option-btn:hover:not(.disabled) {
            border-color: var(--accent);
            background-color: #e1f5fe;
        }

        .option-btn.correct {
            background-color: #e8f5e9;
            border-color: var(--success);
            color: #1b5e20;
            font-weight: 600;
        }

        .option-btn.incorrect {
            background-color: #ffebee;
            border-color: var(--error);
            color: #b71c1c;
        }

        .option-btn.disabled {
            cursor: default;
            opacity: 0.7;
        }

        /* FEEDBACK */
        .feedback {
            margin-top: 20px;
            padding: 15px;
            background-color: #e1f5fe;
            border-radius: 6px;
            border: 1px solid #4fc3f7;
            color: #01579b;
            font-size: 0.95rem;
            display: none;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* RESET BUTTON */
        .btn-reset {
            display: block;
            width: 200px;
            margin: 40px auto;
            padding: 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(2,119,189,0.3);
        }
        .btn-reset:hover { background: #01579b; }

    </style>
</head>
<body>

    <div id="header-bar">
        <div class="header-content">
            <h1>Física Bloque 5 (401-500)</h1>
            <div class="score-board">
                <span id="score">0</span> / <span id="total">0</span>
            </div>
        </div>
        <div id="progress-container">
            <div id="progress-fill"></div>
        </div>
    </div>

    <div class="container" id="quiz-container">
    </div>

    <div class="container">
        <button class="btn-reset" onclick="location.reload()">Reiniciar Test</button>
    </div>

    <script>
        // BASE DE DATOS LIMPIA (401-500)
        const questionsDB = [
            {id: "401", q: "Distribución de velocidades en vaso (laminar):", opts: {a:"Igual", b:"Nula", c:"Nula junto a las paredes y máxima en el centro", d:"Máxima paredes"}, ans: "c", note: "Perfil parabólico de Poiseuille."},
            {id: "402", q: "Velocidad sangre 800x mayor aorta que capilares:", opts: {a:"...", b:"Por ser la sección conjunta de todos los capilares 800 veces mayor que la de la aorta", c:"...", d:"..."}, ans: "b", note: "Ley de Continuidad (A1V1 = A2V2)."},
            {id: "403", q: "Viscosidad sangre:", opts: {a:"1 Poise", b:"5 veces agua", c:"Varía eritrocitos", d:"La b y la c"}, ans: "d", note: "Depende del hematocrito."},
            {id: "404", q: "Presión arterial horizontal (Cerebro vs Corazón):", opts: {a:"Es igual a la presión a nivel del corazón", b:"Inferior", c:"Superior", d:"Depende altura"}, ans: "a", note: "Misma altura, misma presión hidrostática."},
            {id: "405", q: "Tensión paredes (Laplace):", opts: {a:"Prop radio", b:"Indep", c:"Prop presión", d:"La a y la c"}, ans: "d", note: "T = P · r."},
            {id: "406", q: "Presión cerebro nula:", opts: {a:"...", b:"Se produciría una isquemia cerebral", c:"...", d:"..."}, ans: "b", note: "Síncope por falta de riego."},
            {id: "407", q: "Diferencia presión alturas:", opts: {a:"Altura", b:"Gravedad", c:"Densidad", d:"Depende de las tres anteriores"}, ans: "d", note: "P = rho · g · h."},
            {id: "408", q: "Fluido perfecto:", opts: {a:"Sin fuerzas tangenciales", b:"Viscoso", c:"No viscoso", d:"La a y la c"}, ans: "d", note: "Ideal: sin viscosidad (rozamiento)."},
            {id: "409", q: "Flujo:", opts: {a:"Volumen", b:"El volumen de fluido que atraviesa dicha superficie en la unidad de tiempo", c:"Velocidad", d:"Tiempo"}, ans: "b", note: "Caudal (Q = V/t)."},
            {id: "410", q: "Flujo estacionario:", opts: {a:"Prop velocidad", b:"Inv superficie", c:"Prop superficie", d:"La a y la c"}, ans: "d", note: "Q = v · S."},
            {id: "411", q: "Flujo fluido real:", opts: {a:"Prop dif presión", b:"Inv resistencia", c:"Prop radio (cuarta pot)", d:"Las tres anteriores"}, ans: "d", note: "Ley de Poiseuille: Q = ΔP / R."},
            {id: "412", q: "Reynolds 1200 en aorta:", opts: {a:"El régimen circulatorio es siempre laminar", b:"Turbulento", c:"...", d:"..."}, ans: "a", note: "Re < 2000 es laminar."},
            {id: "413", q: "Estrechamiento conducto:", opts: {a:"...", b:"...", c:"Una disminución de la velocidad (Falso) y aumento presión", d:"La a y la b (Aumento velocidad, disminución presión)"}, ans: "d", note: "Efecto Venturi: +Velocidad, -Presión."},
            {id: "414", q: "Anomalía sección vaso (Bernoulli):", opts: {a:"Ayuda", b:"El teorema de Bernouilli la empeora", c:"...", d:"..."}, ans: "b", note: "Ej: Estenosis -> baja presión -> colapso. Aneurisma -> alta presión -> rotura."},
            {id: "415", q: "Velocidad crítica (Reynolds):", opts: {a:"Inv diámetro", b:"Dir viscosidad", c:"Inv densidad", d:"Las tres anteriores"}, ans: "d", note: "Vc = (Re·η) / (ρ·D)."},
            {id: "416", q: "Esfigmomanómetro mide:", opts: {a:"La presión sistólica/diastólica", b:"Turbulencia", c:"Latidos", d:"Resistencia"}, ans: "a", note: "Presión arterial."},
            {id: "417", q: "Resistencia hemodinámica (R):", opts: {a:"Fluido", b:"Tubo", c:"Depende de las características del fluido y del tubo", d:"Disminuye con viscosidad"}, ans: "c", note: "R depende de viscosidad, longitud y radio."},
            {id: "418", q: "De pie, presión cerebro vs corazón:", opts: {a:"Igual", b:"Es inferior a la presión a nivel de corazón", c:"Superior", d:"Indep"}, ans: "b", note: "P_arriba < P_abajo por gravedad."},
            {id: "419", q: "Velocidad capilares menor:", opts: {a:"La superficie total de los capilares es mayor que la de la aorta", b:"...", c:"...", d:"..."}, ans: "a", note: "Continuidad: Mayor área total, menor velocidad."},
            {id: "420", q: "Reynolds transición:", opts: {a:"Mayor de 2000", b:"...", c:"...", d:"..."}, ans: "a", note: "Umbral turbulencia."},
            {id: "421", q: "Laminar si Re:", opts: {a:"...", b:"Menor de 2000", c:"...", d:"..."}, ans: "b", note: "Flujo ordenado."},
            {id: "422", q: "Presión:", opts: {a:"Una magnitud escalar", b:"Vectorial", c:"...", d:"..."}, ans: "a", note: "No tiene dirección (fuerza sí)."},
            {id: "423", q: "Potencia corazón aumenta:", opts: {a:"2", b:"5 veces", c:"7.5", d:"Cte"}, ans: "b", note: "Reserva cardíaca."},
            {id: "424", q: "Presión hidrostática:", opts: {a:"Las coordenadas del punto (profundidad)", b:"Forma", c:"...", d:"..."}, ans: "a", note: "Depende de 'h'."},
            {id: "425", q: "Radio mitad, Resistencia:", opts: {a:"Aumenta 16 veces", b:"Disminuye 16", c:"Doble", d:"..."}, ans: "a", note: "R ~ 1/r^4. (1/0.5)^4 = 16."},
            {id: "426", q: "Unidades flujo SI:", opts: {a:"L/min", b:"...", c:"Metros cúbicos/segundos", d:"L/s"}, ans: "c", note: "Volumen (m3) / Tiempo (s)."},
            {id: "427", q: "Velocidad característica:", opts: {a:"Inv visc", b:"Dir diam", c:"Inversamente proporcional a la densidad del líquido", d:"..."}, ans: "c", note: "Vc inv a densidad."},
            {id: "428", q: "Instrumento presión sanguínea:", opts: {a:"Esfigmomanómetro", b:"Eco", c:"Flujo", d:"Espiro"}, ans: "a", note: "Manguito presión."},
            {id: "429", q: "Unidad viscosidad SI:", opts: {a:"Poise", b:"Pascal * segundo (decapoise)", c:"...", d:"..."}, ans: "b", note: "Pa·s."},
            {id: "430", q: "Vc (Re=2000, n=0.05P, d=1g/cc, D=1cm):", opts: {a:"0.005", b:"0.05", c:"0.5", d:"5 cm/s (valor más lógico)"}, ans: "d", note: "Calculando con datos típicos: 2000*0.05/(1*1) = 100 cm/s. Ninguna opción cuadra exacto, d es la más coherente."},
            {id: "431", q: "Resistencias serie:", opts: {a:"Mayor que cada una", b:"Suma geométrica", c:"Inversa", d:"..."}, ans: "b", note: "Se suman aritméticamente (Rtotal > Rindividual). Opción b 'Suma' es la más cercana."},
            {id: "432", q: "Mayor caída presión:", opts: {a:"En las arterias (arteriolas)", b:"Capilares", c:"Venas", d:"..."}, ans: "a", note: "Zona de máxima resistencia."},
            {id: "433", q: "Tensión superficial:", opts: {a:"Característica", b:"Perpendicular", c:"Paralela", d:"a y c son ciertas"}, ans: "d", note: "Fuerzas tangenciales a la superficie."},
            {id: "434", q: "Histéresis pulmonar causa:", opts: {a:"Hooke", b:"La tensión superficial del líquido surfactante", c:"...", d:"..."}, ans: "b", note: "Diferente comportamiento llenado/vaciado."},
            {id: "435", q: "Tensión sup depende:", opts: {a:"Líquido", b:"Medio", c:"a y b son ciertas", d:"Temp"}, ans: "c", note: "Interfase líquido-medio."},
            {id: "436", q: "Cociente respiratorio:", opts: {a:"Valor calórico...", b:"Volúmenes de O2 consumidos con volúmenes de CO2 eliminados (CO2/O2)", c:"...", d:"..."}, ans: "b", note: "R = VCO2 / VO2."},
            {id: "437", q: "Perfusión:", opts: {a:"Aire", b:"Presión", c:"Suministro de sangre a los capilares pulmonares", d:"Expulsión"}, ans: "c", note: "Riego sanguíneo."},
            {id: "438", q: "Líquidos surfactantes:", opts: {a:"...", b:"...", c:"Varían su tensión superficial según el espacio que ocupen", d:"..."}, ans: "c", note: "Dinámicos (histéresis)."},
            {id: "439", q: "Razón intercambio R:", opts: {a:"Razón de O2 exp y CO2 entra (No)", b:"Razón de CO2 que se expulsa y O2 que entra (insp)", c:"...", d:"..."}, ans: "b", note: "CO2 out / O2 in (en estado estable = metabólico)."},
            {id: "440", q: "Quimógrafo componente de:", opts: {a:"...", b:"...", c:"El espirómetro", d:"..."}, ans: "c", note: "Tambor giratorio de registro clásico."},
            {id: "441", q: "Gas disuelto prop presión:", opts: {a:"Difusión", b:"Dalton", c:"Ley de Henry de la solubilidad de los gases", d:"..."}, ans: "c", note: "C = k · P."},
            {id: "442", q: "Embolia pulmonar produce:", opts: {a:"Disminución de la perfusión", b:"Aumento vent", c:"...", d:"..."}, ans: "a", note: "Bloqueo vascular."},
            {id: "443", q: "Ventilación:", opts: {a:"...", b:"...", c:"...", d:"La b y la c (Aire + Vol)", e:"Renovación..."}, ans: "d", note: "Renovación aire alveolar."},
            {id: "444", q: "Pulmonía área:", opts: {a:"Pobre perfusión", b:"Buena vent", c:"Mala ventilación", d:"La a y la c"}, ans: "c", note: "Alveolo ocupado por fluido."},
            {id: "445", q: "Sup NO surfactante aumenta:", opts: {a:"...", b:"...", c:"...", d:"Se mantiene constante"}, ans: "d", note: "Líquido puro (agua)."},
            {id: "446", q: "Sup Surfactante aumenta:", opts: {a:"Aumenta", b:"Disminuye", c:"...", d:"..."}, ans: "a", note: "Menos moléculas por unidad de área -> Sube tensión."},
            {id: "447", q: "Cociente R:", opts: {a:"CO2/O2", b:"...", c:"Inf 1", d:"La a y la c"}, ans: "d", note: "R ~ 0.8."},
            {id: "448", q: "Capilaridad:", opts: {a:"Ángulo", b:"Laplace", c:"...", d:"La b y la c conjuntamente (o A y B)"}, ans: "d", note: "Interacción de fuerzas y curvatura."},
            {id: "449", q: "Espirómetro no mide:", opts: {a:"Insp", b:"Esp", c:"La capacidad funcional residual (VR)", d:"..."}, ans: "c", note: "Volumen Residual no movilizable."},
            {id: "450", q: "Sup NO surfactante disminuye:", opts: {a:"...", b:"...", c:"Se mantiene constante", d:"..."}, ans: "c", note: "Agua."},
            {id: "451", q: "Sup Surfactante disminuye:", opts: {a:"...", b:"Disminuye", c:"...", d:"..."}, ans: "b", note: "Película se comprime -> Baja tensión."},
            {id: "452", q: "Modelo burbuja T cte:", opts: {a:"Laplace", b:"Llenado", c:"Explica la fase de vaciado (colapso)", d:"A y B"}, ans: "d", note: "Inestabilidad (Laplace) lleva al colapso si T cte."},
            {id: "453", q: "Modelo con surfactante:", opts: {a:"Derecha", b:"Las curvas V/P se desplazan hacia la izquierda (Mayor volumen a menos presión)", c:"...", d:"..."}, ans: "b", note: "Aumenta compliancia, facilita expansión."},
            {id: "454", q: "Diagnóstico respiratorio:", opts: {a:"ECG", b:"...", c:"Espirograma", d:"..."}, ans: "c", note: "Función pulmonar."},
            {id: "455", q: "Embolia pulmonar zona:", opts: {a:"...", b:"...", c:"Pobre perfusión", d:"..."}, ans: "c", note: "Isquemia local."},
            {id: "456", q: "Capacidad Funcional Residual:", opts: {a:"...", b:"...", c:"...", d:"Volumen de aire retenido en los pulmones al final de cada espiración normal"}, ans: "d", note: "Punto de reposo."},
            {id: "457", q: "Intercambio O2/CO2:", opts: {a:"...", b:"La ley de las presiones parciales de Dalton (y difusión Fick)", c:"...", d:"..."}, ans: "b", note: "Gradiente de presiones parciales."},
            {id: "458", q: "Unidad Tensión Sup SI:", opts: {a:"N/m", b:"Nm", c:"...", d:"..."}, ans: "a", note: "Newton/metro."},
            {id: "459", q: "Laplace (P=2T/r), radio aumenta:", opts: {a:"...", b:"La presión disminuye", c:"...", d:"..."}, ans: "b", note: "Presión inversa al radio."},
            {id: "460", q: "Ángulo contacto líquido moja:", opts: {a:"Mayor 90", b:"Menor de 90 grados", c:"...", d:"..."}, ans: "b", note: "Agudo."},
            {id: "461", q: "Volumen Residual %:", opts: {a:"10", b:"20%", c:"30", d:"5"}, ans: "b", note: "Aprox 1.2L de 6L."},
            {id: "462", q: "No surfactante disminuye:", opts: {a:"Permanece constate", b:"...", c:"...", d:"..."}, ans: "a", note: "Repetida."},
            {id: "463", q: "Valor cociente respiratorio:", opts: {a:"1", b:"Menor que 1", c:"...", d:"..."}, ans: "b", note: "0.8."},
            {id: "464", q: "O2 difunde más (FALSO) -> CO2 más rápido:", opts: {a:"...", b:"...", c:"...", d:"Es más soluble en sangre que el CO2 (CO2 es más soluble)"}, ans: "d", note: "La pregunta está formulada al revés o busca la razón de la alta difusión del CO2 (solubilidad)."},
            {id: "465", q: "PO2 alveolar:", opts: {a:"40", b:"100 mm de Hg", c:"80", d:"20"}, ans: "b", note: "Valor normal."},
            {id: "466", q: "Presión alveolar inspiración:", opts: {a:"Mayor", b:"3mm de Hg menor (negativa)", c:"Igual", d:"..."}, ans: "b", note: "Succión."},
            {id: "467", q: "Compliancia normal:", opts: {a:"0,01", b:"0,1 l/cm agua (100ml/cmH2O)", c:"...", d:"..."}, ans: "b", note: "Distensibilidad."},
            {id: "468", q: "Lentes:", opts: {a:"Cóncava conv", b:"Biconvexas convergen los rayos de luz", c:"...", d:"..."}, ans: "b", note: "Convergente."},
            {id: "469", q: "Miope punto remoto:", opts: {a:"Lejos", b:"Igual", c:"Más cerca", d:"..."}, ans: "c", note: "Distancia finita."},
            {id: "470", q: "Hipermétrope corrige:", opts: {a:"...", b:"Con una lente convergente", c:"...", d:"..."}, ans: "b", note: "Positiva."},
            {id: "471", q: "Miope corrige:", opts: {a:"Con una lente divergente", b:"...", c:"...", d:"..."}, ans: "a", note: "Negativa."},
            {id: "472", q: "Aberraciones cromáticas:", opts: {a:"...", b:"...", c:"A que los distintos colores viajan a distinta velocidad en las lentes (Dispersión)", d:"..."}, ans: "c", note: "n varía con lambda."},
            {id: "473", q: "Remoto emétrope conjugado:", opts: {a:"...", b:"...", c:"En la retina", d:"..."}, ans: "c", note: "Foco en retina."},
            {id: "474", q: "Remoto emétrope está:", opts: {a:"...", b:"En el infinito", c:"...", d:"..."}, ans: "b", note: "Definición."},
            {id: "475", q: "Remoto +2m:", opts: {a:"Miopía -0,5 (o Hiper +0.5)", b:"...", c:"Hipermetropía de 0,5 dioptrías", d:"..."}, ans: "c", note: "1/2 = 0.5D."},
            {id: "476", q: "Astigmatismo:", opts: {a:"...", b:"...", c:"...", d:"Falta de simetría de revolución de la cornea"}, ans: "d", note: "Toroidal."},
            {id: "477", q: "Presbicia:", opts: {a:"...", b:"...", c:"Falta de acomodación del ojo", d:"..."}, ans: "c", note: "Edad."},
            {id: "478", q: "Índice refracción:", opts: {a:"El vacío y dicho medio (c/v)", b:"...", c:"...", d:"..."}, ans: "a", note: "Definición n."},
            {id: "479", q: "Focos:", opts: {a:"...", b:"...", c:"...", d:"Puntos de intersección de los planos principales con el eje óptico (Foco objeto/imagen)"}, ans: "d", note: "Óptica geométrica."},
            {id: "480", q: "Córnea asimétrica:", opts: {a:"...", b:"Astigmatismo", c:"...", d:"..."}, ans: "b", note: "Repetida."},
            {id: "481", q: "Foco miope (infinito):", opts: {a:"Retina", b:"Detrás", c:"Delante de la retina", d:"..."}, ans: "c", note: "Exceso potencia."},
            {id: "482", q: "Hipermetropía corrige:", opts: {a:"Convergente", b:"Divergente", c:"...", d:"..."}, ans: "a", note: "Lente positiva."},
            {id: "483", q: "Acomodación:", opts: {a:"...", b:"Disminuye gradualmente con la edad", c:"...", d:"..."}, ans: "b", note: "Presbicia progresiva."},
            {id: "484", q: "Acomodación debida a:", opts: {a:"...", b:"Un cambio en la curvatura del cristalino", c:"...", d:"..."}, ans: "b", note: "Músculo ciliar."},
            {id: "485", q: "Estigmático:", opts: {a:"...", b:"...", c:"A un punto objeto le corresponde un punto imagen", d:"..."}, ans: "c", note: "Nitidez."},
            {id: "486", q: "No acomoda:", opts: {a:"Presbicia", b:"...", c:"...", d:"..."}, ans: "a", note: "Vista cansada."},
            {id: "487", q: "Córnea asimétrica:", opts: {a:"...", b:"Astigmatismo", c:"...", d:"..."}, ans: "b", note: "Repetida."},
            {id: "488", q: "Aberraciones:", opts: {a:"Cromática", b:"Paraxial", c:"...", d:"a y b"}, ans: "d", note: "Cromática y Geométrica."},
            {id: "489", q: "Visión neta:", opts: {a:"Estigmático", b:"Retina", c:"...", d:"a y b"}, ans: "d", note: "Enfoque perfecto."},
            {id: "490", q: "Focos:", opts: {a:"Puntos conjugados del infinito", b:"...", c:"...", d:"..."}, ans: "a", note: "F' imagen del inf, F objeto al inf."},
            {id: "491", q: "Potencia negativa:", opts: {a:"...", b:"Divergente", c:"...", d:"..."}, ans: "b", note: "Lente cóncava."},
            {id: "492", q: "Potencia ojo:", opts: {a:"...", b:"...", c:"60 dioptrías", d:"..."}, ans: "c", note: "Córnea ~40 + Cristalino ~20."},
            {id: "493", q: "Miopía:", opts: {a:"Ser la potencia del ojo mayor que la potencia del ojo emétrope", b:"...", c:"...", d:"..."}, ans: "a", note: "Ojo fuerte."},
            {id: "494", q: "Lente:", opts: {a:"...", b:"Todo medio transparente limitado por superficie esférica", c:"...", d:"..."}, ans: "b", note: "Definición geométrica."},
            {id: "495", q: "Ley óptica:", opts: {a:"...", b:"...", c:"...", d:"Los rayos luminosos son reversibles"}, ans: "d", note: "Principio reversibilidad."},
            {id: "496", q: "Imagen punto infinito:", opts: {a:"Foco objeto", b:"Foco imagen", c:"...", d:"..."}, ans: "b", note: "Plano focal imagen."},
            {id: "497", q: "Rayos salida convergentes:", opts: {a:"Real", b:"...", c:"Virtual", d:"..."}, ans: "a", note: "Se cruzan realmente."},
            {id: "498", q: "Miopía vicio:", opts: {a:"La refracción", b:"...", c:"...", d:"..."}, ans: "a", note: "Defecto refractivo."},
            {id: "499", q: "Potencia positiva:", opts: {a:"...", b:"Es convergente", c:"...", d:"..."}, ans: "b", note: "Convexa."},
            {id: "500", q: "Imagen semejante:", opts: {a:"Geométrico (Ortoscópico)", b:"...", c:"...", d:"Estigmático (Punto a punto)"}, ans: "d", note: "Estigmático asegura nitidez."}
        ];

        // LÓGICA DEL SIMULADOR
        const quizContainer = document.getElementById('quiz-container');
        const scoreSpan = document.getElementById('score');
        const totalSpan = document.getElementById('total');
        const progressFill = document.getElementById('progress-fill');
        
        let score = 0;
        let answeredCount = 0;

        function renderQuiz() {
            totalSpan.textContent = questionsDB.length;

            questionsDB.forEach((q) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.id = `q-${q.id}`;

                const header = document.createElement('div');
                header.className = 'question-header';
                header.textContent = `Pregunta ${q.id}`;
                card.appendChild(header);

                const text = document.createElement('div');
                text.className = 'question-text';
                text.textContent = q.q;
                card.appendChild(text);

                const grid = document.createElement('div');
                grid.className = 'options-grid';

                for (const [key, value] of Object.entries(q.opts)) {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `<strong>${key.toUpperCase()})</strong> ${value}`;
                    btn.onclick = () => checkAnswer(q, key, btn, card, grid);
                    grid.appendChild(btn);
                }
                card.appendChild(grid);

                const feedback = document.createElement('div');
                feedback.className = 'feedback';
                feedback.innerHTML = `<strong>Respuesta Correcta: ${q.ans.toUpperCase()}</strong><br>${q.note}`;
                card.appendChild(feedback);

                quizContainer.appendChild(card);
            });
        }

        function checkAnswer(question, selected, btn, card, grid) {
            if (card.dataset.answered) return;
            card.dataset.answered = 'true';
            answeredCount++;

            const allBtns = grid.querySelectorAll('.option-btn');
            const feedback = card.querySelector('.feedback');

            allBtns.forEach(b => b.classList.add('disabled'));

            if (selected === question.ans) {
                score++;
                btn.classList.add('correct');
                card.classList.add('correct');
            } else {
                btn.classList.add('incorrect');
                card.classList.add('incorrect');
                allBtns.forEach(b => {
                    if (b.innerText.startsWith(question.ans.toUpperCase() + ')')) {
                        b.classList.add('correct');
                    }
                });
            }

            feedback.style.display = 'block';
            scoreSpan.textContent = score;
            const progress = (answeredCount / questionsDB.length) * 100;
            progressFill.style.width = `${progress}%`;
        }

        renderQuiz();

    </script>
</body>
</html>