<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Termodinámica FM - Modo Estudio</title>
    <style>
        :root {
            --primary: #34495e;
            --accent: #3498db;
            --correct: #d4edda;
            --correct-text: #155724;
            --incorrect: #f8d7da;
            --incorrect-text: #721c24;
        }
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        h1 { color: var(--primary); margin: 0; }
        .subtitle { color: #7f8c8d; font-size: 0.9em; }

        .question-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 5px solid var(--accent);
        }
        .question-text {
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 15px;
            color: var(--primary);
        }
        .options-list {
            list-style: none;
            padding: 0;
        }
        .option {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option:hover:not(.disabled) {
            background: #e2e6ea;
            transform: translateX(5px);
        }
        
        /* Estilos de validación */
        .option.correct {
            background-color: var(--correct);
            border-color: #c3e6cb;
            color: var(--correct-text);
            font-weight: bold;
        }
        .option.correct::after { content: " ✓"; float: right; }
        
        .option.incorrect {
            background-color: var(--incorrect);
            border-color: #f5c6cb;
            color: var(--incorrect-text);
            opacity: 0.8;
        }
        .option.incorrect::after { content: " ✕"; float: right; }
        
        .disabled { pointer-events: none; }

        /* Caja de Explicación */
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #e8f4fd;
            border-top: 3px solid var(--accent);
            border-radius: 0 0 5px 5px;
            font-size: 0.95em;
            color: #2980b9;
        }

        .btn-reset {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 30px;
            transition: background 0.3s;
        }
        .btn-reset:hover { background-color: #2c3e50; }
    </style>
</head>
<body>

<header>
    <h1>Test de Termodinámica</h1>
    <div class="subtitle">FM Shark Crew | Modo Estudio con Feedback</div>
</header>

<div id="quiz-container"></div>

<button class="btn-reset" onclick="window.scrollTo(0,0); location.reload()">⟳ Barajar y Reiniciar Test</button>

<script>
    /* Base de datos estructurada.
       'correctIndex': índice de la respuesta correcta (0, 1, 2, 3) dentro del array 'options'.
    */
    const quizData = [
        {
            q: "Las unidades de la entropía en el SI son:",
            options: ["J/K", "Kcal/ºC", "J/ºC", "Kj/h.m²"],
            correctIndex: 0,
            expl: "La entropía (S) se define como Q/T, por lo que su unidad en el Sistema Internacional es Julios por Kelvin."
        },
        {
            q: "El calor se mide en:",
            options: ["Julios", "Watios", "Caballos de vapor", "Grados centígrados"],
            correctIndex: 0,
            expl: "El calor es una forma de energía en tránsito, por lo que en el SI se mide en Julios (J). Watios es potencia, Grados es temperatura."
        },
        {
            q: "La ecuación de transmisión del calor entre dos medios, indica que el calor trasmitido es:",
            options: ["Inversamente proporcional a la resistencia térmica", "Directamente proporcional a la resistencia térmica", "Muy elevado", "Inversamente proporcional a la diferencia de temperaturas"],
            correctIndex: 0,
            expl: "Análogo a la ley de Ohm: Flujo = Diferencia de T / Resistencia. A mayor resistencia, menos calor pasa (inversamente proporcional)."
        },
        {
            q: "Los escalofríos pertenecen a la zona o nivel de regulación:",
            options: ["Metabólica", "Vasomotora", "Sudomotora", "Voluntaria"],
            correctIndex: 0,
            expl: "Los escalofríos (termogénesis tiritante) son un mecanismo involuntario para generar calor mediante actividad muscular (metabolismo)."
        },
        {
            q: "En cualquier proceso en que un sistema termodinámicamente aislado cambia de un estado a otro irreversiblemente:",
            options: ["Su entropía aumenta", "Su entalpía disminuye", "Su entalpía aumenta", "Su entropía disminuye"],
            correctIndex: 0,
            expl: "Segundo Principio: En un sistema aislado, la entropía siempre aumenta en procesos irreversibles (espontáneos)."
        },
        {
            q: "En Termodinámica Clásica, un estado se caracteriza por las magnitudes:",
            options: ["Presión(P), Volumen(V) y Temperatura(T)", "Presión(P), Volumen(V) y tiempo(t)", "Presión(P), Tiempo(t) y Temperatura(T)", "Presión(P), Potencia(W) y Temperatura(T)"],
            correctIndex: 0,
            expl: "Son las variables de estado fundamentales para describir un gas ideal o sistema simple."
        },
        {
            q: "La temperatura es:",
            options: ["La cualidad que permite determinar si dos sistemas están o no en equilibrio térmico", "Es lo que sube o baja en un termómetro", "Es lo que regula el sol", "Se mide en calorías"],
            correctIndex: 0,
            expl: "Principio Cero: La temperatura es la propiedad física que determina si hay equilibrio térmico entre sistemas."
        },
        {
            q: "El ser vivo es un:",
            options: ["Sistema termodinámico Ordenado (abierto)", "Sistema termodinámico Estable", "Sistema termodinámico Sano", "Sistema termodinámico Inestable"],
            correctIndex: 0,
            expl: "Los seres vivos mantienen un alto grado de orden (baja entropía interna) consumiendo energía del entorno, aunque termodinámicamente tienden al desorden al morir."
        },
        {
            q: "En los cambios de estado (fase) de una sustancia pura:",
            options: ["No se modifica la temperatura", "La temperatura aumenta", "La temperatura disminuye", "La presión siempre aumenta"],
            correctIndex: 0,
            expl: "Durante un cambio de fase (ej. hielo a agua), la energía se usa para romper enlaces (calor latente) y la temperatura permanece constante."
        },
        {
            q: "¿Para qué sudamos cuando la temperatura corporal es elevada?",
            options: ["Para evaporar agua, consumir energía y bajar la temperatura superficial", "Para eliminar toxinas", "Para usar los ventiladores", "Para aumentar la temperatura"],
            correctIndex: 0,
            expl: "La evaporación es un proceso endotérmico: el agua toma calor de la piel para pasar a gas, enfriando el cuerpo."
        },
        {
            q: "El primer principio de la termodinámica introduce el concepto de:",
            options: ["Energía interna", "Temperatura", "Entropía", "Entalpía"],
            correctIndex: 0,
            expl: "El 1er Principio (Conservación de la energía) define la Energía Interna (U) como función de estado: ΔU = Q - W."
        },
        {
            q: "Una función de estado en termodinámica es aquella que:",
            options: ["Solo depende de los estados inicial y final, no del camino", "Depende del camino recorrido", "Siempre es constante", "Solo depende de la temperatura"],
            correctIndex: 0,
            expl: "Ejemplos: Presión, Temperatura, Energía Interna, Entropía. No importa cómo llegaste ahí, solo dónde estás."
        },
        {
            q: "El segundo principio de la termodinámica introduce el concepto de:",
            options: ["Entropía", "Energía interna", "Entalpía", "Calor"],
            correctIndex: 0,
            expl: "El 2º Principio define la dirección de los procesos espontáneos y la Entropía (S) como medida del desorden/dispersión."
        },
        {
            q: "El segundo principio de la termodinámica determina que:",
            options: ["Es imposible obtener un proceso cíclico cuyo único efecto sea la transformación total de calor en trabajo", "Es posible obtener dicho proceso", "Es posible si la presión es alta", "Depende de la temperatura"],
            correctIndex: 0,
            expl: "Enunciado de Kelvin-Planck: No existe una máquina térmica con rendimiento del 100%."
        },
        {
            q: "¿A qué concepto se llega en el principio cero de la termodinámica?",
            options: ["Temperatura (Equilibrio térmico)", "Entropía", "Trabajo", "Entalpía"],
            correctIndex: 0,
            expl: "Si A está en equilibrio con B, y B con C, entonces A está en equilibrio con C. Define la temperatura."
        },
        {
            q: "¿Cómo regula el ser humano su temperatura corporal?",
            options: ["Cediendo o tomando calor del exterior y variando su metabolismo", "Variando su resistencia térmica únicamente", "Manteniendo todos los puntos del cuerpo a 0ºC", "No la regula"],
            correctIndex: 0,
            expl: "Mediante termorregulación: sudoración, vasodilatación/constricción, tiritona, etc."
        },
        {
            q: "¿Cómo regulan ciertos animales en hielo el flujo de calor en sus extremidades?",
            options: ["Con un sistema de circulación contracorriente", "Variando su resistencia térmica", "Dejando que se congelen", "Aumentando su temperatura central"],
            correctIndex: 0,
            expl: "Intercambio contracorriente: la sangre arterial caliente cede calor a la venosa fría antes de llegar a la pata, minimizando la pérdida."
        },
        {
            q: "La entropía en un sistema aislado:",
            options: ["Aumenta siempre (en procesos reales/irreversibles)", "No varía", "Disminuye siempre", "Es reversible"],
            correctIndex: 0,
            expl: "El desorden del universo (sistema aislado) tiende a aumentar."
        },
        {
            q: "En condiciones normales de 25 grados, ¿por qué mecanismo pierde el cuerpo más calor?",
            options: ["Radiación", "Convección", "Transpiración", "Respiración"],
            correctIndex: 0,
            expl: "En reposo y ambiente templado, aprox el 60% se pierde por radiación infrarroja hacia objetos más fríos."
        },
        {
            q: "El primer experimento de Joule establece relación entre:",
            options: ["Calor y trabajo (Energía mecánica)", "Calor y temperatura", "Energía y materia", "Trabajo y estabilidad"],
            correctIndex: 0,
            expl: "Demostró el equivalente mecánico del calor: el trabajo puede convertirse en calor."
        },
        {
            q: "Un sistema es estable si:",
            options: ["Alcanza un valor máximo de entropía", "La temperatura es -273.5", "No emite radiación", "Alcanza un valor mínimo de entropía"],
            correctIndex: 0,
            expl: "El equilibrio termodinámico (estabilidad) en un sistema aislado corresponde al estado de máxima entropía posible."
        },
        {
            q: "El metabolismo basal se suele expresar en:",
            options: ["Kilocalorías por m² y hora", "Caloría por cm² y minuto", "Kilocalorías absolutas", "Watios puros"],
            correctIndex: 0,
            expl: "Es una medida de potencia por unidad de superficie corporal."
        },
        {
            q: "El calor transportado por la sangre hacia la piel se hace principalmente mediante:",
            options: ["Convección (forzada)", "Conducción", "Emisión", "Refrigeración"],
            correctIndex: 0,
            expl: "La sangre es un fluido en movimiento que transporta calor, lo cual es la definición de convección."
        },
        {
            q: "Los animales de sangre fría (su T corporal depende del ambiente) son:",
            options: ["Poiquilotermos", "Homeotermos", "Endergónicos", "Exergónicos"],
            correctIndex: 0,
            expl: "Poiquilotermos (o ectotermos). Homeotermos son los de 'sangre caliente' (mantienen T constante)."
        },
        {
            q: "Las transformaciones isotermas son:",
            options: ["A temperatura constante", "A presión constante", "A volumen constante", "Adiabáticas"],
            correctIndex: 0,
            expl: "Iso = igual, Terma = temperatura."
        },
        {
            q: "En una transformación reversible a presión y temperatura constante, el equilibrio se alcanza cuando:",
            options: ["La variación de energía libre de Gibbs es nula", "La variación de energía libre es positiva", "La entropía es cero", "La entalpía es máxima"],
            correctIndex: 0,
            expl: "El criterio de equilibrio espontáneo a P y T constantes es que dG = 0 (mínima energía libre)."
        },
        {
            q: "Las transformaciones adiabáticas se realizan:",
            options: ["Sin intercambio de calor con el exterior", "A presión constante", "A temperatura constante", "Sin realizar trabajo"],
            correctIndex: 0,
            expl: "Adiabático significa que el sistema está aislado térmicamente (Q = 0)."
        },
        {
            q: "El cuerpo al alimentarse para mantener su estructura:",
            options: ["Toma energía y materia (Entropía negativa/Neguentropía)", "Aumenta su entropía interna", "Disminuye su energía", "Solo toma calor"],
            correctIndex: 0,
            expl: "Schrödinger decía que la vida se alimenta de 'entropía negativa' para mantener el orden."
        },
        {
            q: "La circulación venosa intercambia temperatura con la arteria (contracorriente) cuando:",
            options: ["Hace frío", "Hace calor", "Se liberan hormonas", "Hay fiebre"],
            correctIndex: 0,
            expl: "Es un mecanismo de conservación de calor para evitar que la sangre fría de las extremidades enfríe el núcleo central."
        },
        {
            q: "Si aumenta la entropía:",
            options: ["Aumenta el desorden", "Aumenta el orden", "Disminuye la temperatura", "Disminuye el calor"],
            correctIndex: 0,
            expl: "Entropía es sinónimo de grado de desorden molecular o dispersión de energía."
        },
        {
            q: "Se llama calor de reacción al calor que se absorbe o desprende al:",
            options: ["Reaccionar las sustancias (formación/combustión)", "Calentar un cuerpo", "Cambiar de estado", "Mover un pistón"],
            correctIndex: 0,
            expl: "Es la variación de entalpía asociada a una reacción química."
        },
        {
            q: "La Ley de Hess es fundamental para determinar:",
            options: ["El valor calórico (entalpía) de las reacciones", "La cantidad de proteínas", "La energía interna absoluta", "La grasa"],
            correctIndex: 0,
            expl: "Establece que la variación de entalpía es la misma independientemente de si la reacción ocurre en un paso o en varios."
        },
        {
            q: "En un sistema reversible, la variación de entropía del universo es:",
            options: ["S permanece constante (variación cero)", "S aumenta", "S disminuye", "S es infinita"],
            correctIndex: 0,
            expl: "En procesos ideales reversibles, la entropía total del universo no cambia. En los reales (irreversibles), aumenta."
        },
        {
            q: "La cantidad de calor Q transmitida por conducción (Ley de Fourier) depende de:",
            options: ["K * S * (T1-T2) / Longitud", "Solo de la temperatura", "K * (T1-T2)", "La presión"],
            correctIndex: 0,
            expl: "Q/t = k·A·ΔT/d. Depende de la conductividad (k), superficie (S/A), diferencia de temperatura y es inversa al espesor."
        },
        {
            q: "En una reacción irreversible la entropía del universo es:",
            options: ["Mayor que cero (aumenta)", "Menor que cero", "Igual que cero", "Constante"],
            correctIndex: 0,
            expl: "Segundo principio: ΔS_universo > 0 para procesos espontáneos/irreversibles."
        },
        {
            q: "¿Por qué un barco no puede navegar usando la energía interna del mar (enfriándolo) para mover sus hélices?",
            options: ["Va en contra del segundo principio (Kelvin-Planck)", "Va en contra del primer principio", "No es posible mecánicamente", "No sería rentable"],
            correctIndex: 0,
            expl: "No se puede extraer calor de una sola fuente y convertirlo todo en trabajo sin ceder parte a un foco frío."
        },
        {
            q: "El verdadero concepto de temperatura se alcanza con:",
            options: ["Teoría cinética molecular", "Teoría de la información", "Teoría nuclear", "Primer principio"],
            correctIndex: 0,
            expl: "La temperatura es una medida de la energía cinética promedio de las partículas."
        },
        {
            q: "La transmisión de calor por contacto físico directo entre dos cuerpos (sin movimiento de materia) se denomina:",
            options: ["Conducción", "Convección", "Radiación", "Difusión"],
            correctIndex: 0,
            expl: "Es la transferencia de energía vibracional de átomo a átomo."
        },
        {
            q: "El calor en el vacío:",
            options: ["Se propaga por radiación", "No se propaga", "Se propaga por conducción", "Se propaga por convección"],
            correctIndex: 0,
            expl: "La radiación electromagnética (infrarroja) no necesita medio material para propagarse."
        },
        {
            q: "La forma más baja o degradada de energía es:",
            options: ["El calor (a baja temperatura)", "La energía cinética", "La energía potencial", "La electricidad"],
            correctIndex: 0,
            expl: "El calor es energía desordenada; es difícil convertirlo completamente de nuevo en trabajo útil (alta entropía)."
        },
        {
            q: "La entalpía (H):",
            options: ["Es una función de estado", "No es una función de estado", "Es igual al trabajo", "Es igual a la entropía"],
            correctIndex: 0,
            expl: "H = U + PV. Como U, P y V son funciones de estado, H también lo es."
        },
        {
            q: "El calor que se transfiere de un sistema a otro:",
            options: ["No es una función de estado (es función de camino)", "Es una función de estado", "Es propiedad del sistema", "Es constante"],
            correctIndex: 0,
            expl: "El calor (Q) y el trabajo (W) dependen del proceso seguido, no solo del inicio y fin."
        },
        {
            q: "La transferencia de calor que se produce en los fluidos por desplazamiento de partículas se llama:",
            options: ["Convección", "Conducción", "Radiación", "Transmisión"],
            correctIndex: 0,
            expl: "Implica movimiento de masa (corrientes) llevando el calor."
        },
        {
            q: "El hipotálamo al notar un aumento excesivo de temperatura:",
            options: ["Produce vasodilatación y sudor", "Produce temblor", "Produce vasoconstricción", "Aumenta el metabolismo"],
            correctIndex: 0,
            expl: "Activa mecanismos de pérdida de calor."
        },
        {
            q: "La imposibilidad de alcanzar el cero absoluto es consecuencia del:",
            options: ["Tercer principio", "Primer principio", "Segundo principio", "Principio cero"],
            correctIndex: 0,
            expl: "Teorema de Nernst: Es imposible reducir la temperatura de un sistema al cero absoluto en un número finito de pasos."
        },
        {
            q: "Aplicando la función de Gibbs a la glucosa, el organismo:",
            options: ["Obtiene energía libre para realizar trabajo", "Obtiene entropía pura", "Pierde energía", "Aumenta su temperatura infinitamente"],
            correctIndex: 0,
            expl: "La oxidación de glucosa es exergónica (ΔG < 0), liberando energía útil."
        },
        {
            q: "La criobiología estudia:",
            options: ["Los efectos de las temperaturas bajas en biología", "El calentamiento", "Las células cancerígenas exclusivamente", "La física nuclear"],
            correctIndex: 0,
            expl: "Estudio de los seres vivos a bajas temperaturas."
        },
        {
            q: "Los puntos fijos del termómetro Celsius son:",
            options: ["Fusión del hielo (0) y ebullición del agua (100) a 1 atm", "0 y 10", "32 y 212", "Cero absoluto y punto triple"],
            correctIndex: 0,
            expl: "Definición clásica de la escala centígrada."
        },
        {
            q: "A escala molecular, la temperatura es:",
            options: ["Directamente proporcional a la velocidad (energía cinética) de las partículas", "Inversamente proporcional a la masa", "Independiente del movimiento", "Igual al calor"],
            correctIndex: 0,
            expl: "T ~ (1/2)mv²."
        },
        {
            q: "Una variable termodinámica que NO depende del tamaño ni de la cantidad de materia (ej. Temperatura) se denomina:",
            options: ["Intensiva", "Extensiva", "Adiabática", "Fija"],
            correctIndex: 0,
            expl: "Las extensivas (masa, volumen) se suman; las intensivas (temperatura, densidad) no."
        },
        {
            q: "Si la variación de energía interna es igual a cero (ΔU=0) en un gas ideal, el proceso es:",
            options: ["Isotermo", "Adiabático", "Isobaro", "Isocoro"],
            correctIndex: 0,
            expl: "En un gas ideal, U depende solo de T. Si ΔU=0, entonces ΔT=0 (Isotermo)."
        },
        {
            q: "¿Cuál de los siguientes sistemas termodinámicos puede transmitir materia y energía a los alrededores?",
            options: ["Sistema Abierto", "Sistema Cerrado", "Sistema Aislado", "Sistema Adiabático"],
            correctIndex: 0,
            expl: "Abierto: intercambia masa y energía. Cerrado: solo energía. Aislado: nada."
        },
        {
            q: "Un gas se expande absorbiendo calor. Si la energía interna no varía (Isotermo), el trabajo realizado es:",
            options: ["Igual que el calor absorbido", "Mayor que el calor", "Menor que el calor", "Cero"],
            correctIndex: 0,
            expl: "1er Principio: ΔU = Q - W. Si ΔU=0, entonces Q = W."
        },
        {
            q: "¿A quién deberías seguir en Instagram? (Pregunta social del test original)",
            options: ["Todas las opciones mencionadas son correctas", "Álvaro Condón", "Pepegarridoo", "Susoocalderoon"],
            correctIndex: 0,
            expl: "Esta es una pregunta 'bonus' del test original. En este formato, todas se consideran válidas."
        }
    ];

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        container.innerHTML = '';

        // Mezclar orden de preguntas
        const shuffledQuestions = [...quizData];
        shuffleArray(shuffledQuestions);

        shuffledQuestions.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';

            const title = document.createElement('div');
            title.className = 'question-text';
            title.innerHTML = `${index + 1}. ${item.q}`;
            card.appendChild(title);

            // Preparar opciones mezcladas
            // Guardamos el texto y si es correcta o no
            let opts = item.options.map((optText, i) => ({
                text: optText,
                isCorrect: i === item.correctIndex
            }));
            
            shuffleArray(opts);

            const optionsList = document.createElement('ul');
            optionsList.className = 'options-list';

            opts.forEach(opt => {
                const li = document.createElement('li');
                li.className = 'option';
                li.innerText = opt.text;
                
                li.onclick = () => {
                    if (card.classList.contains('answered')) return;
                    card.classList.add('answered');

                    // Bloquear opciones
                    const allOptions = optionsList.querySelectorAll('.option');
                    allOptions.forEach(o => o.classList.add('disabled'));

                    if (opt.isCorrect) {
                        li.classList.add('correct');
                    } else {
                        li.classList.add('incorrect');
                        // Buscar la correcta para marcarla
                        opts.forEach((o, idx) => {
                            if (o.isCorrect) {
                                allOptions[idx].classList.add('correct');
                            }
                        });
                    }

                    // Mostrar explicación
                    const exp = document.createElement('div');
                    exp.className = 'explanation';
                    exp.innerHTML = `<strong>Explicación:</strong> ${item.expl}`;
                    exp.style.display = 'block';
                    card.appendChild(exp);
                };

                optionsList.appendChild(li);
            });

            card.appendChild(optionsList);
            container.appendChild(card);
        });
    }

    // Iniciar
    window.onload = renderQuiz;
</script>

</body>
</html>
