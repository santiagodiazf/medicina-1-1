<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Fluidos FM - Modo Estudio Interactivo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1 { margin: 0; font-size: 2em; letter-spacing: 1px; }
        .subtitle { font-size: 1em; opacity: 0.9; margin-top: 10px; }
        
        .card {
            background: white;
            margin-bottom: 25px;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-left: 5px solid #007bff;
            transition: transform 0.2s;
        }
        .question-text {
            font-weight: 700;
            font-size: 1.15em;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        .options-list {
            list-style: none;
            padding: 0;
        }
        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        .option:hover:not(.disabled) {
            background: #e2e6ea;
            transform: translateX(5px);
            border-color: #cbd3da;
        }
        
        /* Estilos de Feedback */
        .option.correct {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
            font-weight: 600;
        }
        .option.correct::after {
            content: "✓";
            float: right;
            font-weight: bold;
            font-size: 1.2em;
        }
        .option.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
            opacity: 0.7;
        }
        .option.incorrect::after {
            content: "✕";
            float: right;
            font-weight: bold;
            font-size: 1.2em;
        }
        .disabled {
            pointer-events: none;
            cursor: default;
        }
        
        /* Caja de Explicación */
        .explanation {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #e7f5ff;
            border-radius: 8px;
            border-top: 3px solid #17a2b8;
            color: #333;
            font-size: 0.95em;
            animation: slideDown 0.3s ease-out;
        }
        .explanation strong {
            color: #0c5460;
            display: block;
            margin-bottom: 5px;
            text-transform: uppercase;
            font-size: 0.8em;
        }
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #controls {
            text-align: center;
            margin: 50px 0;
        }
        button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: background 0.3s;
        }
        button:hover { background-color: #218838; }
    </style>
</head>
<body>

<header>
    <h1>Test Fluidos FM</h1>
    <div class="subtitle">SHARK CREW | Modo Estudio con Explicaciones</div>
</header>

<div id="quiz-container"></div>

<div id="controls">
    <button onclick="window.scrollTo(0,0); location.reload();">⟳ Reiniciar Test</button>
</div>

<script>
    /* DATOS DEL QUIZ
       Las opciones están pre-mezcladas y 'correctIndex' indica cuál es la correcta
       (0 = primera opcion, 1 = segunda, etc.)
    */
    const quizData = [
        {
            q: "Cuando un fluido ideal pasa por un estrechamiento en una conducción:",
            options: [
                "su velocidad y presión aumenta.",
                "aumenta su velocidad y disminuye su presión.",
                "disminuye su velocidad y aumenta su presión.",
                "su velocidad y presión disminuye."
            ],
            correctIndex: 1,
            explanation: "Principio de Bernoulli: Para conservar la energía mecánica, si el fluido se acelera (aumenta energía cinética) al pasar por un sitio estrecho, su presión (energía potencial) debe disminuir."
        },
        {
            q: "Si en un fluido ideal la velocidad de circulación disminuye de un punto A a otro B en un tubo de corriente:",
            options: [
                "necesariamente el diámetro en B es menor que en A.",
                "el fluido se ha comprimido.",
                "el fluido se ha expandido.",
                "necesariamente el diámetro del tubo ha aumentado en B respecto a A."
            ],
            correctIndex: 3,
            explanation: "Ecuación de Continuidad (A1·v1 = A2·v2): Si la velocidad baja, el área (y por tanto el diámetro) debe aumentar."
        },
        {
            q: "En el torrente circulatorio la ecuación de continuidad:",
            options: [
                "se puede aplicar en cualquier instante.",
                "se puede aplicar en promedio para intervalos de tiempo largos.",
                "no se puede aplicar ya que la sangre es un líquido viscoso.",
                "no se puede aplicar en los capilares."
            ],
            correctIndex: 1,
            explanation: "La sangre tiene un flujo pulsátil (no estacionario). La continuidad estricta se cumple mejor analizando el flujo promedio en un ciclo cardiaco completo."
        },
        {
            q: "La resistencia hidrodinámica para un fluido viscoso:",
            options: [
                "crece al aumentar el radio y la longitud de la tubería.",
                "decrece al aumentar el radio y la longitud de la tubería.",
                "crece al aumentar la longitud y decrece al aumentar el radio de la tubería.",
                "crece al disminuir la longitud y aumenta al aumentar el radio de la tubería."
            ],
            correctIndex: 2,
            explanation: "Ley de Poiseuille: R es proporcional a la Longitud (más largo = más resistencia) e inversamente proporcional al Radio a la cuarta potencia (más ancho = mucho menos resistencia)."
        },
        {
            q: "Por la tubería de la figura circula un liquido viscoso, si progresivamente se aumenta el caudal, ¿dónde se producirá antes la transición de régimen laminar a turbulento? (conducto 1,2cm que se estrecha a 2mm)",
            options: [
                "en la parte A (ancha).",
                "en la parte B (estrecha).",
                "en ambas partes a la vez.",
                "no aparecerá un régimen turbulento al ser un líquido viscoso."
            ],
            correctIndex: 1,
            explanation: "El número de Reynolds (Re) aumenta si la velocidad aumenta. En la parte estrecha, la velocidad es mucho mayor. Aunque el diámetro es menor (lo que bajaría Re), la velocidad crece al cuadrado respecto al diámetro, dominando la ecuación. (Re es inversamente proporcional al diámetro para un MISMO caudal)."
        },
        {
            q: "Para que llegue mas sangre a aquellos órganos que lo precisan:",
            options: [
                "disminuye la presión arterial y aumenta el ritmo cardiaco.",
                "aumenta el radio de los vasos periféricos, la presión y el ritmo cardiaco.",
                "disminuye el radio de los vasos periféricos para que disminuya la resistencia hemodinámica.",
                "aumenta solo la presión arterial."
            ],
            correctIndex: 1,
            explanation: "El cuerpo usa la vasodilatación (aumentar radio) para reducir resistencia localmente, y aumenta la presión/ritmo cardíaco para bombear más caudal."
        },
        {
            q: "La distribución de velocidades en la sección de un vaso será:",
            options: [
                "máxima en la paredes y nula en el centro.",
                "nula junto a las paredes y máxima en el centro.",
                "igual en todos los puntos.",
                "nula en todos los puntos de la sección."
            ],
            correctIndex: 1,
            explanation: "Debido a la viscosidad y la condición de no deslizamiento, el fluido pegado a la pared no se mueve (v=0) y la velocidad aumenta hasta el centro (perfil parabólico)."
        },
        {
            q: "¿Por qué la velocidad de la sangre es unas 800 veces mayor en la aorta que en los capilares?",
            options: [
                "por ser la sección de la aorta 800 veces mayor que la sección conjunta de los capilares.",
                "la velocidad es la misma en la aorta que en los capilares.",
                "la velocidad en la aorta es menor que en los capilares.",
                "por ser la sección conjunta de todos los capilares 800 veces mayor que la de la aorta."
            ],
            correctIndex: 3,
            explanation: "Aunque un capilar es fino, hay miles de millones. Su área de sección TRANSVERSAL TOTAL sumada es inmensa. Por continuidad (v = Caudal/AreaTotal), a mayor área total, menor velocidad."
        },
        {
            q: "El coeficiente de viscosidad de la sangre:",
            options: [
                "es aproximadamente 1 Poise.",
                "varía mucho en función del contenido en eritrocitos.",
                "es generalmente 5 veces superior al del agua.",
                "la b y la c."
            ],
            correctIndex: 3,
            explanation: "La sangre es aprox 3-5 veces más viscosa que el agua y depende mucho del hematocrito (cantidad de células rojas)."
        },
        {
            q: "Para una persona que está en posición horizontal, la presión arterial a nivel del cerebro:",
            options: [
                "es superior a la presión a nivel del corazón.",
                "depende de la altura de la persona.",
                "es inferior a la presión a nivel del corazón.",
                "es igual a la presión a nivel del corazón."
            ],
            correctIndex: 3,
            explanation: "Al estar tumbado, no hay diferencia de altura (h) contra la gravedad entre corazón y cabeza, por lo que la presión hidrostática es la misma."
        },
        {
            q: "La tensión que soportan las paredes de los vasos:",
            options: [
                "es independiente de la presión sanguínea.",
                "es directamente proporcional al radio de los vasos.",
                "es directamente proporcional a la presión sanguínea.",
                "la b y la c."
            ],
            correctIndex: 3,
            explanation: "Ley de Laplace (T = P · r): La tensión en la pared aumenta si sube la presión interna o si aumenta el radio del vaso."
        },
        {
            q: "Si la presión sanguínea a nivel del cerebro se anula:",
            options: [
                "la presión a nivel del corazón también se anulara.",
                "se produciría una isquemia cerebral.",
                "se produciría un infarto de miocardio.",
                "la presión a nivel del cerebro nunca se puede anular."
            ],
            correctIndex: 1,
            explanation: "Sin diferencia de presión, no hay flujo sanguíneo (caudal). Sin sangre, no llega oxígeno (isquemia)."
        },
        {
            q: "La diferencia de presión entre dos puntos de un fluido situado a distintas alturas:",
            options: [
                "depende de la diferencia de altura entre ellos.",
                "depende de la gravedad.",
                "depende de la densidad del fluido.",
                "depende de las tres anteriores."
            ],
            correctIndex: 3,
            explanation: "Presión Hidrostática = densidad · gravedad · altura (P = ρ·g·h)."
        },
        {
            q: "Se dice que un fluido es perfecto si:",
            options: [
                "es viscoso.",
                "en su seno no se desarrollan fuerzas tangenciales.",
                "no es viscoso.",
                "la b y la c."
            ],
            correctIndex: 3,
            explanation: "Un fluido ideal o perfecto es incompresible y no tiene viscosidad (rozamiento interno), por lo que no hay fuerzas tangenciales de fricción entre capas."
        },
        {
            q: "Se define el flujo a través de una superficie como:",
            options: [
                "el volumen de fluido que atraviesa dicha superficie.",
                "el volumen de fluido que atraviesa dicha superficie en la unidad de tiempo.",
                "la velocidad del fluido por la superficie.",
                "tiempo que tarda un fluido en atravesar la superficie."
            ],
            correctIndex: 1,
            explanation: "El flujo o caudal (Q) se define como Volumen / Tiempo."
        },
        {
            q: "En un fluido estacionario, el flujo a través de una superficie es:",
            options: [
                "proporcional a la velocidad del fluido.",
                "proporcional a la superficie.",
                "inversamente proporcional a la superficie.",
                "la a y la b."
            ],
            correctIndex: 3,
            explanation: "Caudal (Q) = Velocidad (v) · Superficie (S). Es proporcional a ambos."
        },
        {
            q: "En un fluido real, el flujo entre dos secciones será:",
            options: [
                "proporcional al radio del conducto.",
                "inversamente proporcional a la resistencia.",
                "proporcional a la diferencia de presiones que exista entre dichas secciones.",
                "las tres anteriores."
            ],
            correctIndex: 3,
            explanation: "Analogía de la Ley de Ohm: Flujo = ΔPresión / Resistencia. Y la Resistencia depende del radio."
        },
        {
            q: "El número de Reynolds en la aorta es del orden de 1200, esto implica que:",
            options: [
                "el flujo sanguíneo se anula.",
                "el régimen circulatorio es siempre turbulento.",
                "el régimen circulatorio es siempre laminar.",
                "puede ser turbulento ya que los datos de Reynolds solo son exactos para tubos largos y rectos."
            ],
            correctIndex: 3,
            explanation: "Aunque Re < 2000 suele ser laminar, la aorta es curva y el flujo es pulsátil, lo que favorece la aparición de turbulencias a números de Reynolds más bajos de lo teórico."
        },
        {
            q: "Si hay un estrechamiento en un conducto sanguíneo se producirá:",
            options: [
                "una disminución de la presión de la sangre.",
                "una disminución de la velocidad y un aumento de la presión.",
                "un aumento de la velocidad de la sangre.",
                "la a y la c."
            ],
            correctIndex: 3,
            explanation: "Efecto Venturi (Bernoulli): Al estrecharse, la velocidad sube para mantener el caudal, y esto provoca que la presión baje."
        },
        {
            q: "Cuando se produce una anomalía en la sección de un vaso sanguíneo:",
            options: [
                "el teorema de Bernouilli la empeora.",
                "el teorema no influye en nada.",
                "puede ayudar o no en función de la velocidad de la sangre.",
                "el teorema de Bernouilli ayuda a corregirla."
            ],
            correctIndex: 0,
            explanation: "Ejemplo: En una estenosis (estrechamiento), baja la presión (Bernoulli), lo que hace que el vaso tienda a cerrarse más (colapso), empeorando la situación."
        },
        {
            q: "Según Reynolds la velocidad critica o característica es:",
            options: [
                "directamente proporcional a la viscosidad del líquido.",
                "inversamente proporcional al diámetro del tubo.",
                "inversamente proporcional a la densidad del líquido.",
                "las tres anteriores."
            ],
            correctIndex: 3,
            explanation: "Velocidad Crítica = (Re · Viscosidad) / (Densidad · Diámetro)."
        },
        {
            q: "El esfigmomanómetro:",
            options: [
                "mide la resistencia hemodinámica.",
                "mide la tasa de latidos del corazón.",
                "mide la presión sistólica/diastólica.",
                "mide el flujo sanguíneo turbulento."
            ],
            correctIndex: 2,
            explanation: "Es el aparato (manguito) usado para medir la tensión arterial (máxima/sistólica y mínima/diastólica)."
        },
        {
            q: "La resistencia hemodinámica (R):",
            options: [
                "depende de las características del fluido y del tubo.",
                "depende únicamente de las características del fluido.",
                "depende únicamente de las características del tubo por el que circula.",
                "disminuye si aumenta el coeficiente de viscosidad del fluido."
            ],
            correctIndex: 0,
            explanation: "Depende del fluido (viscosidad) y de la geometría del tubo (longitud y radio)."
        },
        {
            q: "Para una persona que está de pie, la presión arterial a nivel del cerebro:",
            options: [
                "es igual a la presión a nivel del corazón.",
                "es superior a la presión a nivel del corazón.",
                "es inferior a la presión a nivel de corazón.",
                "es independiente de la altura de la persona."
            ],
            correctIndex: 2,
            explanation: "Al estar de pie, el corazón debe bombear 'hacia arriba' contra la gravedad. Se pierde presión hidrostática (ρgh) al subir."
        },
        {
            q: "La velocidad de la sangre en los capilares es menor que en la aorta porque:",
            options: [
                "la superficie total de los capilares es mayor que la de la aorta.",
                "por la ley de Laplace.",
                "lo contrario que en a.",
                "por el teorema de Bernouilli."
            ],
            correctIndex: 0,
            explanation: "Reiteración: El área transversal total combinada de los lechos capilares es enorme, por lo que la velocidad disminuye drásticamente para permitir el intercambio de nutrientes."
        },
        {
            q: "En la circulación sanguínea, ¿Cuánto debe ser el número de Reynolds para pasar de una región laminar a una turbulenta?",
            options: [
                "menor de 2000.",
                "igual a 2000.",
                "mayor de 2000.",
                "la a y la c."
            ],
            correctIndex: 2,
            explanation: "El valor crítico estándar suele citarse como Re > 2000 (a veces 3000 en física pura, pero en medicina se usa 2000 como referencia de turbulencia)."
        },
        {
            q: "El régimen de circulación de un fluido será laminar si el numero de Reynolds es:",
            options: [
                "menor de 2000.",
                "mayor de 2000.",
                "mayor de 1200.",
                "menor de 1200."
            ],
            correctIndex: 0,
            explanation: "Por debajo de 2000, las fuerzas viscosas dominan y mantienen el fluido ordenado en láminas paralelas."
        },
        {
            q: "La presión que ejerce un fluido sobre una superficie es:",
            options: [
                "una magnitud vectorial.",
                "depende de las unidades empleadas.",
                "es adimensional.",
                "una magnitud escalar."
            ],
            correctIndex: 3,
            explanation: "La presión se define en un punto y actúa en todas direcciones; no tiene una dirección única fija como un vector, es un escalar (Fuerza/Area)."
        },
        {
            q: "La potencia generada por el corazón puede aumentar hasta:",
            options: [
                "2 veces.",
                "Es siempre la misma.",
                "5 veces.",
                "7,5 veces."
            ],
            correctIndex: 2,
            explanation: "Es la 'reserva cardíaca'. Durante el ejercicio intenso, el gasto cardíaco puede pasar de 5 L/min a 25 L/min."
        },
        {
            q: "La presión hidrostática ejercida en un fluido depende de:",
            options: [
                "de la forma del recipiente.",
                "las coordenadas del punto.",
                "del color del fluido.",
                "de la viscosidad."
            ],
            correctIndex: 1,
            explanation: "Depende de la profundidad (coordenada vertical z o h). P = ρ·g·h."
        },
        {
            q: "Si por una estenosis el radio disminuye a la mitad, la resistencia:",
            options: [
                "aumenta el doble.",
                "disminuye 16 veces.",
                "no cambia.",
                "aumenta 16 veces."
            ],
            correctIndex: 3,
            explanation: "La resistencia depende de 1/r^4. Si r pasa a ser 1/2, la resistencia es 1/(0.5)^4 = 1/0.0625 = 16 veces mayor."
        },
        {
            q: "La unidades en el S.I del flujo son:",
            options: [
                "litros/minutos.",
                "litros/segundos.",
                "metros cúbicos/horas.",
                "metros cúbicos/segundos."
            ],
            correctIndex: 3,
            explanation: "Sistema Internacional: Volumen (m³) / Tiempo (s)."
        },
        {
            q: "Según Reynolds, la velocidad característica es (opciones variantes):",
            options: [
                "inversamente proporcional a la densidad del liquido.",
                "directamente proporcional al diámetro del tubo.",
                "inversamente proporcional a la viscosidad del fluido.",
                "ninguna de las anteriores."
            ],
            correctIndex: 0,
            explanation: "Formula: v = (Re·η)/(ρ·D). Es inversamente proporcional a la densidad (ρ)."
        },
        {
            q: "¿Qué instrumento usamos para medir la presión sanguínea?",
            options: [
                "espirómetro.",
                "ecógrafo.",
                "flujómetro.",
                "esfigmomanómetro."
            ],
            correctIndex: 3,
            explanation: "El tensiómetro clásico."
        },
        {
            q: "La unidad de viscosidad en el S.I es:",
            options: [
                "Pascal * segundo (Poiseuille).",
                "Pascal/litro.",
                "Poise.",
                "Metro/segundo."
            ],
            correctIndex: 0,
            explanation: "El Poise es del sistema CGS. En el Sistema Internacional es Pa·s (a veces llamado Poiseuille)."
        },
        {
            q: "En un vaso sanguíneo de 1 cm de diámetro, con sangre de 0,05 poise de viscosidad y densidad 1g/cm3, la velocidad critica resulta:",
            options: [
                "0,5 cm/s.",
                "5 cm/s.",
                "0,050 cm/s.",
                "0,0050 cm/s."
            ],
            correctIndex: 1,
            explanation: "Cálculo aproximado asumiendo Re crítico bajo (aprox 100 para este ejercicio específico de texto): v = (Re·η)/(ρ·D) = (100 · 0.05)/(1·1) = 5 cm/s. *Nota: El valor depende del Re crítico que el libro de texto considere para inicio de turbulencia.*"
        },
        {
            q: "La suma de dos resistencia hidrodinámicas en serie es:",
            options: [
                "la suma geométrica.",
                "igual a la inversa de la suma.",
                "mayor que cada una de ellas por separada.",
                "menor que cada una de ellas por separada."
            ],
            correctIndex: 2,
            explanation: "En serie, las resistencias se suman (R_total = R1 + R2), por lo que el resultado siempre es mayor que las partes individuales."
        },
        {
            q: "¿Dónde es mayor la caída de la presión hemodinámica?",
            options: [
                "en las arterias.",
                "en los capilares (o arteriolas).",
                "en las venas.",
                "depende de la presión sanguínea."
            ],
            correctIndex: 1,
            explanation: "Las arteriolas son los vasos de resistencia principales. Al tener gran resistencia, provocan la mayor caída de presión del sistema."
        },
        {
            q: "Por un tubo circula un fluido real, señale la respuesta correcta.",
            options: [
                "La velocidad máxima se da en el centro del tubo.",
                "La velocidad mínima se da en el centro del tubo.",
                "La velocidad media es la mitad de la velocidad máxima.",
                "La a) y la c)."
            ],
            correctIndex: 3,
            explanation: "En flujo laminar: perfil parabólico con máximo en el centro y media = Vmax/2."
        },
        {
            q: "El esfigmomanómetro se basa en:",
            options: [
                "Las tensiones superficiales de los músculos.",
                "Las propiedades del flujo sanguíneo.",
                "Las variaciones de presiones del mercurio.",
                "Las propiedades eléctricas del corazón."
            ],
            correctIndex: 1,
            explanation: "Se basa en detectar la transición de flujo laminar (silencioso) a turbulento (ruidos de Korotkoff) al comprimir la arteria."
        },
        {
            q: "Al aumentar la viscosidad de un fluido:",
            options: [
                "Aumenta su velocidad crítica.",
                "Disminuye su velocidad crítica.",
                "El número de Reynolds aumenta.",
                "El régimen de circulación siempre será laminar."
            ],
            correctIndex: 0,
            explanation: "Si es más viscoso, 'cuesta más' desordenarlo, por lo que puede ir más rápido antes de volverse turbulento (v_critica es proporcional a viscosidad)."
        },
        {
            q: "En un vaso sanguíneo se produce una estenosis reduciendo su radio a la mitad ¿Qué pasara con la velocidad de la sangre en ese punto?",
            options: [
                "Aumentará en 4 veces.",
                "Disminuirá a la mitad.",
                "Aumentará el doble.",
                "Se mantendrá constante."
            ],
            correctIndex: 0,
            explanation: "Area = π·r². Si r se reduce a la mitad (1/2), el Área se reduce a la cuarta parte (1/4). Para mantener el caudal, la velocidad debe multiplicarse por 4."
        },
        {
            q: "Un fluído ideal:",
            options: [
                "Es compresible, su densidad no cambia y no tiene viscosidad.",
                "Es incompresible, su densidad no cambia y no tiene viscosidad.",
                "Es incompresible, su densidad cambia y es viscoso.",
                "Es compresible, su densidad cambia y no tiene viscosidad."
            ],
            correctIndex: 1,
            explanation: "Definición teórica: Densidad constante (incompresible) y sin fricción interna (no viscoso)."
        },
        {
            q: "¿Qué es la viscosidad de un fluido?",
            options: [
                "Sólo aparece si el fluido es ideal.",
                "Es la presión atmosférica.",
                "Es la fuerza que ayuda al fluido a desplazarse mejor.",
                "Es la fricción interna en el fluido."
            ],
            correctIndex: 3,
            explanation: "Es la resistencia de las capas del fluido a deslizarse unas sobre otras (fricción molecular)."
        },
        {
            q: "¿Cuándo se producirá turbulencias en un fluido?",
            options: [
                "Cuando la velocidad del fluido exceda de un cierto valor crítico.",
                "Cuando el número de Reynolds sea inferior a 2000.",
                "Cuando la masa del fluido exceda de un cierto valor crítico.",
                "La a) y la c)."
            ],
            correctIndex: 0,
            explanation: "La turbulencia aparece al superar la Velocidad Crítica (o superar el Reynolds crítico > 2000)."
        },
        {
            q: "La tensión superficial:",
            options: [
                "Es una característica del líquido.",
                "Da origen a fuerzas perpendiculares a la superficie.",
                "La a y la c.",
                "Da lugar a fuerzas que operan paralelas a la superficie."
            ],
            correctIndex: 2,
            explanation: "Es una propiedad del líquido (a). En superficies curvas (como gotas), la resultante de la tensión superficial es una fuerza perpendicular hacia adentro (Ley de Laplace) (c)."
        },
        {
            q: "La tensión superficial depende:",
            options: [
                "a y b son ciertas.",
                "del liquido.",
                "de la temperatura.",
                "del medio."
            ],
            correctIndex: 0,
            explanation: "Depende de la naturaleza química del líquido y disminuye al aumentar la temperatura."
        },
        {
            q: "Cuando en una arteria aumenta el radio:",
            options: [
                "la tensión de sus paredes disminuye.",
                "El vaso se abre hasta romperse.",
                "El radio de la arteria se anula.",
                "La tensión de sus paredes aumenta."
            ],
            correctIndex: 3,
            explanation: "Laplace: Tensión = Presión · Radio. A mayor radio, mayor tensión en la pared (por eso los aneurismas tienden a romperse)."
        },
        {
            q: "¿Qué efecto tiene incrementar la viscosidad de la sangre sobre el flujo sanguíneo de acuerdo con la Ley de Poiseuille?",
            options: [
                "Ninguno, la sangre no tiene viscosidad.",
                "Hace que la resistencia hemodinámica sea mayor.",
                "b y c son ciertas.",
                "Para mantener un flujo constante deberá incrementarse la diferencia de presión."
            ],
            correctIndex: 2,
            explanation: "Mayor viscosidad = Mayor Resistencia (b). Si R sube, hace falta más Presión para mover el mismo caudal (c)."
        },
        {
            q: "La velocidad critica de un fluido será mas alta si:",
            options: [
                "La viscosidad del fluido aumenta.",
                "La densidad del fluido aumenta.",
                "El radio del tubo aumenta.",
                "La viscosidad del fluido disminuye."
            ],
            correctIndex: 0,
            explanation: "Es más difícil crear turbulencias en fluidos espesos (viscosos), por lo que soportan velocidades más altas manteniéndose laminares."
        },
        {
            q: "¿Cuál de los siguientes casos actúa el fenómeno de capilaridad?",
            options: [
                "Al beber refresco de una pajita.",
                "La circulacion de agua desde la raíz hasta las hojas.",
                "Al extraer sangre con una jeringuilla.",
                "a y c son correctas."
            ],
            correctIndex: 1,
            explanation: "El ascenso de savia en plantas se debe en gran parte a la capilaridad (adhesión/cohesión) en los conductos finos del xilema."
        },
        {
            q: "Un liquido moja a un solido cuando:",
            options: [
                "Las fuerzas de adherencia son mayores que las de cohesión.",
                "Las fuerzas de cohesión son mayores que las de adherencia.",
                "Solo depende de la presión atmosferica.",
                "Es independiente de las fuerzas de cohesión y adherencia."
            ],
            correctIndex: 0,
            explanation: "Si el líquido se pega más al sólido (adherencia) que a sí mismo (cohesión), se extiende y 'moja' la superficie."
        }
    ];

    // Función para mezclar opciones al azar pero manteniendo el control de cuál es la correcta
    function shuffleAndRender() {
        // Mezclamos el orden de las preguntas para que no salgan siempre igual
        let indicesPreguntas = Array.from(Array(quizData.length).keys());
        indicesPreguntas.sort(() => Math.random() - 0.5);

        const container = document.getElementById('quiz-container');
        container.innerHTML = '';

        indicesPreguntas.forEach((indexReal, indexMostrado) => {
            const item = quizData[indexReal];
            
            // Creamos un array de objetos temporal para mezclar las opciones de ESTA pregunta
            // item.correctIndex nos dice cuál es la correcta en el array original
            let opcionesMezcladas = item.options.map((txt, i) => ({
                texto: txt,
                esCorrecta: (i === item.correctIndex)
            }));

            // Algoritmo Fisher-Yates para mezclar las opciones
            for (let i = opcionesMezcladas.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [opcionesMezcladas[i], opcionesMezcladas[j]] = [opcionesMezcladas[j], opcionesMezcladas[i]];
            }

            // Crear HTML de la tarjeta
            const card = document.createElement('div');
            card.className = 'card';

            const title = document.createElement('div');
            title.className = 'question-text';
            title.innerText = `${indexMostrado + 1}. ${item.q}`;
            card.appendChild(title);

            const ul = document.createElement('ul');
            ul.className = 'options-list';

            // Renderizar las opciones ya mezcladas
            opcionesMezcladas.forEach(opt => {
                const li = document.createElement('li');
                li.className = 'option';
                li.innerText = opt.texto;

                li.onclick = function() {
                    // Evitar múltiples respuestas
                    if (card.classList.contains('answered')) return;
                    card.classList.add('answered');

                    // Bloquear visualmente todas
                    const allOpts = ul.querySelectorAll('.option');
                    allOpts.forEach(o => o.classList.add('disabled'));

                    if (opt.esCorrecta) {
                        li.classList.add('correct');
                    } else {
                        li.classList.add('incorrect');
                        // Buscar la correcta para iluminarla
                        opcionesMezcladas.forEach((o, idx) => {
                            if (o.esCorrecta) {
                                allOpts[idx].classList.add('correct');
                            }
                        });
                    }

                    // Mostrar explicación
                    const expDiv = card.querySelector('.explanation');
                    expDiv.style.display = 'block';
                };

                ul.appendChild(li);
            });

            card.appendChild(ul);

            // Añadir div de explicación oculto
            const exp = document.createElement('div');
            exp.className = 'explanation';
            exp.innerHTML = `<strong>Explicación:</strong> ${item.explanation}`;
            card.appendChild(exp);

            container.appendChild(card);
        });
    }

    // Iniciar
    window.onload = shuffleAndRender;

</script>

</body>
</html>
