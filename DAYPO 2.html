<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Bloque II Bioquímica - Álvaro Condón</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f6f8;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 2px solid #3498db;
            padding-bottom: 15px;
        }
        .question-card {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .question-title {
            font-weight: 600;
            font-size: 1.05em;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        .options-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 0;
            padding: 0;
            list-style: none;
        }
        .option-btn {
            padding: 12px;
            text-align: left;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95em;
        }
        .option-btn:hover:not(.disabled) {
            background-color: #e2e6ea;
        }
        .option-btn.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        .option-btn.incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        .option-btn.disabled {
            cursor: default;
            opacity: 0.9;
            pointer-events: none;
        }
        .reset-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 30px;
            margin-bottom: 40px;
        }
        .reset-btn:hover {
            background-color: #2980b9;
        }
        .feedback {
            margin-top: 10px;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            font-size: 0.9em;
            display: none;
        }
    </style>
</head>
<body>

    <h1>Bloque II Bioquímica - Álvaro Condón</h1>
    <div id="quiz-container"></div>
    <button class="reset-btn" onclick="renderQuiz()">Reiniciar Test (Barajar Opciones)</button>

<script>
    const questions = [
        {
            text: "La normalidad de una solución 0,5 M de H2SO4 es:",
            explanation: "La normalidad es la molaridad multiplicada por el número de protones intercambiables. El H2SO4 aporta 2 H+, por lo que 0,5 M equivale a 1 N.",
            options: [
                { text: "1 Normal", correct: true },
                { text: "0,5 Normal", correct: false },
                { text: "5 Normal", correct: false }
            ]
        },
        {
            text: "Respecto al agua es cierto que:",
            explanation: "El agua es mayoritaria en los seres vivos, es un dipolo, forma puentes de hidrógeno y puede comportarse como ácido o base.",
            options: [
                { text: "Todas las afirmaciones son correctas", correct: true },
                { text: "Constituye entre el 70 % y el 90 % de la composición de los seres vivos", correct: false },
                { text: "Presenta estructura de dipolo eléctrico", correct: false },
                { text: "Forma puentes de hidrógeno", correct: false },
                { text: "Tiene carácter anfótero", correct: false }
            ]
        },
        {
            text: "Respecto al plasma, el suero fisiológico (NaCl 9,5 g/L; 0,16 M) es isotónico, por lo que:",
            explanation: "El NaCl se disocia en 2 iones, por lo que una solución 0,16 M tiene una osmolaridad aproximada de 0,32 Osm, similar a la del plasma.",
            options: [
                { text: "Presentan una concentración osmolar aproximada de 0,32 Osm", correct: true },
                { text: "Presentan una concentración osmolar de 0,16 Osm", correct: false },
                { text: "Lisaría a los hematíes contenidos en suspensión", correct: false },
                { text: "Los iones Cl− y Na+ atraviesan libremente la membrana del hematíe", correct: false }
            ]
        },
        {
            text: "Se dice que un ácido es de naturaleza fuerte cuando:",
            explanation: "Un ácido fuerte se disocia casi completamente en agua, lo que se traduce en una constante de disociación (Ka) elevada.",
            options: [
                { text: "El valor de su Ka es alto", correct: true },
                { text: "El valor de su Ka es bajo", correct: false }
            ]
        },
        {
            text: "En un sistema amortiguador, si la concentración de H+ del medio disminuye, el sistema compensa:",
            explanation: "Si baja [H+], el equilibrio se desplaza liberando más protones: el ácido débil se disocia y aumenta su forma iónica.",
            options: [
                { text: "Aumentando la forma iónica del ácido", correct: true },
                { text: "Aumentando la forma iónica de la base", correct: false },
                { text: "Aumentando la forma molecular del ácido", correct: false }
            ]
        },
        {
            text: "Una disolución que contiene 2 Eq-g/L de NaCl tiene en un litro:",
            explanation: "2 Eq-g/L de NaCl equivalen a 2 moles, 2 equivalentes-gramo, 2000 mmol y una normalidad de 2 N.",
            options: [
                { text: "Todas las afirmaciones son correctas", correct: true },
                { text: "2 moles de NaCl", correct: false },
                { text: "2 Eq-g de NaCl", correct: false },
                { text: "2000 mmol de NaCl", correct: false },
                { text: "2 N de NaCl", correct: false }
            ]
        },
        {
            text: "¿Qué cantidad de agua hay que añadir para que una solución de 0,2 moles de acetato sódico y 0,5 moles de glucosa tenga osmolalidad 0,45 Osm?",
            explanation: "El acetato aporta 2 partículas por mol: 0,2×2 = 0,4 osmoles. La glucosa aporta 0,5 osmoles. Total: 0,9 osmoles. 0,9 / 0,45 ≈ 2 kg de agua.",
            options: [
                { text: "2 kg de agua", correct: true },
                { text: "1 kg de agua", correct: false },
                { text: "1 L de agua", correct: false },
                { text: "2 L de agua", correct: false },
                { text: "2 moles de agua", correct: false }
            ]
        },
        {
            text: "En el equilibrio de Gibbs-Donnan con una membrana permeable solo a iones difusibles:",
            explanation: "En el equilibrio de Donnan, el producto de las concentraciones de cationes y aniones difusibles es igual a ambos lados de la membrana.",
            options: [
                { text: "El producto de las concentraciones de los iones difusibles es igual a ambos lados", correct: true },
                { text: "La concentración de K+ es igual en ambos lados", correct: false },
                { text: "No hay movimiento de iones en ningún momento", correct: false }
            ]
        },
        {
            text: "Una solución de un ácido ionizado prácticamente al 100 % tendrá:",
            explanation: "Si está totalmente disociado, el grado de disociación α es 1; la acidez real coincide con la total y no hay reserva de ácido sin ionizar.",
            options: [
                { text: "Un grado de disociación α igual a 1", correct: true },
                { text: "Siempre un pH menor de 7", correct: false },
                { text: "Acidez potencial prácticamente nula", correct: false },
                { text: "Acidez real igual a la acidez total", correct: false },
                { text: "Todas las afirmaciones son ciertas", correct: false }
            ]
        },
        {
            text: "Una solución amortiguadora está formada por:",
            explanation: "Un tampón clásico se compone de un ácido débil y su base conjugada (normalmente la sal con una base fuerte) o una base débil y su ácido conjugado.",
            options: [
                { text: "A- Un ácido débil y su sal con una base fuerte", correct: false },
                { text: "B- Una base débil y su sal con un ácido fuerte", correct: false },
                { text: "C- Un ácido fuerte y su sal con una base fuerte", correct: false },
                { text: "D- Solo un ácido fuerte en agua", correct: false },
                { text: "E- A y B son correctas", correct: true }
            ]
        },
        {
            text: "Una solución amortiguadora tiene máxima eficacia para regular el pH cuando:",
            explanation: "Según Henderson-Hasselbalch, el tampón es más eficaz cuando pH ≈ pKa, es decir, cuando [sal] y [ácido] son similares.",
            options: [
                { text: "El pH que se desea mantener es aproximadamente igual al pKa del sistema", correct: true },
                { text: "La relación [sal]/[ácido] es muy pequeña", correct: false },
                { text: "El pKa del sistema es cercano a 1", correct: false },
                { text: "El pKa del sistema es cercano a 9", correct: false },
                { text: "El ácido del sistema es muy fuerte", correct: false }
            ]
        },
        {
            text: "En el sistema amortiguador de la hemoglobina:",
            explanation: "La desoxihemoglobina se comporta como una base más fuerte que la oxihemoglobina y capta protones, tamponando descensos del pH en los tejidos.",
            options: [
                { text: "La desoxihemoglobina contrarresta principalmente las bajadas de pH en los tejidos", correct: true },
                { text: "La desoxihemoglobina contrarresta fundamentalmente subidas de pH", correct: false },
                { text: "La oxihemoglobina no puede liberar protones", correct: false },
                { text: "La hemoglobina no participa en el amortiguamiento del pH", correct: false }
            ]
        },
        {
            text: "La mayor parte del dióxido de carbono que transporta la sangre circula como:",
            explanation: "El CO2 se hidrata y se transforma en bicarbonato (HCO3−), que es la forma mayoritaria de transporte en sangre.",
            options: [
                { text: "Bicarbonato", correct: true },
                { text: "CO2 disuelto", correct: false },
                { text: "Carboxihemoglobina", correct: false },
                { text: "Carbaminohemoglobina", correct: false },
                { text: "Ácido carbónico", correct: false }
            ]
        },
        {
            text: "En una persona con función pulmonar normal que hiperventila durante varios segundos, el cambio más significativo es:",
            explanation: "La hiperventilación elimina más CO2 del esperado, produciendo hipocapnia (disminución de pCO2).",
            options: [
                { text: "Disminución de la pCO2 arterial", correct: true },
                { text: "Gran aumento de la pO2 arterial", correct: false },
                { text: "Aumento marcado de la saturación de hemoglobina arterial", correct: false },
                { text: "Disminución del pH arterial", correct: false },
                { text: "Aumento de la pCO2 arterial", correct: false }
            ]
        },
        {
            text: "¿Cuál de las siguientes situaciones tiende a producir una alcalosis si el organismo no puede compensarla?",
            explanation: "Los vómitos repetidos originan pérdida de HCl gástrico, lo que equivale a una pérdida de ácido y favorece una alcalosis metabólica.",
            options: [
                { text: "Vómitos repetidos con pérdida de HCl", correct: true },
                { text: "Producción de lactato durante el ejercicio intenso", correct: false },
                { text: "Producción de cuerpos cetónicos en la diabetes mal controlada", correct: false },
                { text: "Diarrea con pérdida de bicarbonato", correct: false },
                { text: "Fiebre con hipercatabolismo", correct: false }
            ]
        },
        {
            text: "En un paciente con enteropatía que produce gran cantidad de amoniaco (NH3) en la luz intestinal, ¿qué efecto ácido-base es probable?",
            explanation: "El amoniaco puede captar protones y convertirse en amonio (NH4+), lo que tiende a consumir H+ y favorecer una alcalinización.",
            options: [
                { text: "Conversión de amoniaco en amonio con consumo de protones y tendencia a alcalosis", correct: true },
                { text: "Descenso del pH sanguíneo", correct: false },
                { text: "Descenso en la concentración de bicarbonato en sangre", correct: false },
                { text: "Respiración de Kussmaul", correct: false },
                { text: "Aumento de la espiración de CO2", correct: false }
            ]
        },
        {
            text: "Los puentes de hidrógeno son enlaces:",
            explanation: "Son interacciones no covalentes relativamente débiles comparadas con los enlaces covalentes, aunque muy importantes en biomoléculas.",
            options: [
                { text: "Débiles", correct: true },
                { text: "Covalentes", correct: false },
                { text: "Muy fuertes", correct: false },
                { text: "De alta energía de hidrólisis", correct: false },
                { text: "Idénticos a los enlaces iónicos", correct: false }
            ]
        },
        {
            text: "Calcule la molaridad y la normalidad de una disolución en la que se disuelven 80 g de NaOH (PM 40) en agua hasta un volumen final de 500 ml:",
            explanation: "80/40 = 2 moles en 0,5 L → 4 M. El NaOH aporta un equivalente por mol, por lo que es también 4 N.",
            options: [
                { text: "4 M y 4 N", correct: true },
                { text: "2 M y 2 N", correct: false },
                { text: "2 M y 4 N", correct: false },
                { text: "1 M y 2 N", correct: false },
                { text: "4 M y 2 N", correct: false }
            ]
        },
        {
            text: "Al disolver un soluto no volátil en agua pura, la presión de vapor de la disolución:",
            explanation: "Según la ley de Raoult, la presencia de soluto no volátil disminuye la presión de vapor del disolvente.",
            options: [
                { text: "Disminuye respecto a la del agua pura", correct: true },
                { text: "Aumenta respecto a la del agua pura", correct: false },
                { text: "No se modifica", correct: false },
                { text: "Es independiente de la concentración de soluto", correct: false },
                { text: "Solo depende de la naturaleza química del soluto", correct: false }
            ]
        },
        {
            text: "¿Cuál es el principal catión implicado en el mantenimiento de la presión osmótica del compartimento extracelular?",
            explanation: "El sodio (Na+) es el principal catión del líquido extracelular y el que más contribuye a su osmolaridad.",
            options: [
                { text: "Na+", correct: true },
                { text: "K+", correct: false },
                { text: "Cl−", correct: false },
                { text: "Ca2+", correct: false },
                { text: "Mg2+", correct: false }
            ]
        },
        {
            text: "¿Qué factores explican la presión oncótica ejercida por las proteínas plasmáticas?",
            explanation: "Las proteínas son coloides confinados al plasma, con carga y tamaño que impiden su paso libre; esto, junto con el equilibrio de Donnan, genera presión oncótica.",
            options: [
                { text: "La combinación de su carácter coloidal, su carga y la presencia de una membrana semipermeable", correct: true },
                { text: "Solo su tamaño molecular", correct: false },
                { text: "Exclusivamente su carga eléctrica", correct: false },
                { text: "Solo la presencia de cristaloides en el plasma", correct: false },
                { text: "No ejercen efecto sobre la presión osmótica", correct: false }
            ]
        },
        {
            text: "La constante del producto iónico del agua indica que:",
            explanation: "A 25 ºC, Kw = [H+][OH−] ≈ 1×10⁻¹⁴, lo que define el pH neutro de 7.",
            options: [
                { text: "Se representa por Kw y su valor es aproximadamente 1×10⁻14", correct: true },
                { text: "La proporción [H+] y [OH−] es de 3 a 2", correct: false },
                { text: "La proporción de iones hidronio e hidroxilo es del 50 % en cualquier solución", correct: false },
                { text: "Kw tiene siempre el valor 1×10⁻7", correct: false },
                { text: "Todas las afirmaciones son correctas", correct: false }
            ]
        },
        {
            text: "El pH se define como:",
            explanation: "Por definición, pH = −log10 [H+]. Es una medida logarítmica de la concentración de protones.",
            options: [
                { text: "El −log de la concentración de H+", correct: true },
                { text: "El log de la concentración de H+", correct: false },
                { text: "El log de la concentración de OH−", correct: false },
                { text: "El log de la inversa de Ka", correct: false },
                { text: "La suma de pKa y pOH", correct: false }
            ]
        },
        {
            text: "El pH de una solución amortiguadora depende de:",
            explanation: "Según la ecuación de Henderson-Hasselbalch, pH = pKa + log [base]/[ácido]; depende de esa relación.",
            options: [
                { text: "La relación entre la concentración de sal y ácido", correct: true },
                { text: "La relación ácido/sal solamente", correct: false },
                { text: "La fuerza del ácido fuerte presente", correct: false },
                { text: "La fuerza de la base fuerte presente", correct: false },
                { text: "Solo de la concentración total de tampón", correct: false }
            ]
        },
        {
            text: "¿Cómo se llama la enzima que cataliza la conversión reversible de CO2 y agua en ácido carbónico?",
            explanation: "La anhidrasa carbónica acelera de forma extraordinaria la reacción CO2 + H2O ⇌ H2CO3.",
            options: [
                { text: "Anhidrasa carbónica", correct: true },
                { text: "CO2 carboxilasa", correct: false },
                { text: "Bicarbonatasa", correct: false },
                { text: "Aldehído carboxilasa", correct: false },
                { text: "Anhidrotransferasa", correct: false }
            ]
        },
        {
            text: "Respecto a la hemoglobina, el efecto Bohr:",
            explanation: "El efecto Bohr describe cómo el aumento de H+ y CO2 reduce la afinidad de la Hb por el O2, facilitando su liberación en tejidos.",
            options: [
                { text: "Permite liberar oxígeno de la hemoglobina cuando el pH baja y aumenta el CO2", correct: true },
                { text: "Permite liberar oxígeno cuando el pH sube", correct: false },
                { text: "No tiene relación con el CO2", correct: false },
                { text: "Hace que la hemoglobina capte menos protones", correct: false },
                { text: "Impide la salida de oxígeno en los tejidos", correct: false }
            ]
        },
        {
            text: "¿Cuál de las siguientes afirmaciones es falsa respecto a la composición del medio interno?",
            explanation: "El CO2 plasmático circula principalmente como bicarbonato, no como ácido carbónico.",
            options: [
                { text: "El CO2 plasmático circula mayoritariamente como ácido carbónico", correct: true },
                { text: "El Na+ es el principal catión extracelular", correct: false },
                { text: "En alcalosis el pH sanguíneo es mayor de 7,45", correct: false },
                { text: "El K+ es el principal catión intracelular", correct: false },
                { text: "El Cl− es el principal anión extracelular", correct: false }
            ]
        },
        {
            text: "Una solución de NaCl de concentración 9,5 g/L:",
            explanation: "9,5 g/L de NaCl corresponden aproximadamente a 0,16 M, muy cercana a la concentración del suero fisiológico estándar.",
            options: [
                { text: "Equivale aproximadamente a 0,16 M", correct: true },
                { text: "Es claramente hipotónica respecto al plasma", correct: false },
                { text: "Equivale a 0,16 Osm", correct: false },
                { text: "Provoca lisis de los hematíes", correct: false },
                { text: "Tiene una molaridad de 0,32 M", correct: false }
            ]
        },
        {
            text: "En la deshidratación hipertónica:",
            explanation: "Se pierde más agua que solutos, la osmolaridad plasmática aumenta y el agua sale de las células, deshidratando el compartimento intracelular.",
            options: [
                { text: "La osmolaridad plasmática está aumentada", correct: true },
                { text: "La natremia está disminuida", correct: false },
                { text: "El hematocrito está disminuido por hemodilución", correct: false },
                { text: "El volumen intracelular no se modifica", correct: false },
                { text: "Se pierden líquidos y solutos en la misma proporción", correct: false }
            ]
        },
        {
            text: "Una hemorragia aguda intensa produce un trastorno ácido-base en el que:",
            explanation: "La hipoxia tisular favorece el metabolismo anaerobio y la producción de lactato, originando acidosis metabólica.",
            options: [
                { text: "Aumenta el lactato en sangre produciendo acidosis metabólica", correct: true },
                { text: "Disminuye la concentración de H+ en sangre", correct: false },
                { text: "Aumenta el bicarbonato sanguíneo", correct: false },
                { text: "Solo se afecta el componente respiratorio del tampón bicarbonato", correct: false },
                { text: "Aumenta de forma primaria la pCO2", correct: false }
            ]
        },
        {
            text: "En los tejidos periféricos, respecto al sistema amortiguador de la hemoglobina a pH fisiológico:",
            explanation: "La desoxihemoglobina tiene mayor capacidad para captar protones y por ello ayuda a tamponar la acidez generada en los tejidos.",
            options: [
                { text: "La desoxihemoglobina tampona fundamentalmente las bajadas de pH", correct: true },
                { text: "La hemoglobina sin oxígeno es el principal catión extracelular", correct: false },
                { text: "La oxihemoglobina es la forma más básica de la proteína", correct: false },
                { text: "La hemoglobina no interviene en el equilibrio ácido-base", correct: false }
            ]
        },
        {
            text: "En el túbulo contorneado proximal del riñón:",
            explanation: "En el túbulo proximal se reabsorbe la mayor parte del bicarbonato filtrado y se genera amonio a partir de glutamina.",
            options: [
                { text: "Se reabsorbe la mayor parte del bicarbonato filtrado", correct: true },
                { text: "Se secreta la mayor parte del bicarbonato a la orina", correct: false },
                { text: "No se produce amonio a partir de glutamina", correct: false },
                { text: "No interviene en el equilibrio ácido-base", correct: false }
            ]
        },
        {
            text: "La hipoxia mantenida tiende a producir un trastorno ácido-base:",
            explanation: "La falta de oxígeno favorece el metabolismo anaerobio y la acumulación de lactato, causando acidosis metabólica.",
            options: [
                { text: "De tipo acidosis metabólica por acumulación de lactato", correct: true },
                { text: "De tipo alcalosis respiratoria primaria", correct: false },
                { text: "De tipo acidosis respiratoria primaria", correct: false },
                { text: "Sin repercusión sobre el pH", correct: false }
            ]
        },
        {
            text: "El suero fisiológico es una solución:",
            explanation: "Es una solución de NaCl al 0,9 % (aprox. 0,154 M) que resulta prácticamente isotónica con el plasma.",
            options: [
                { text: "Isotónica con el plasma", correct: true },
                { text: "De 0,32 M de NaCl", correct: false },
                { text: "Que contiene 9,5 g/L de KCl", correct: false },
                { text: "De 0,16 Osm respecto al medio interno", correct: false },
                { text: "Que produce lisis de los hematíes", correct: false }
            ]
        },
        {
            text: "Respecto a la composición iónica del plasma:",
            explanation: "En plasma, típicamente [Na+] ≈ 140 mEq/L y [K+] ≈ 4 mEq/L.",
            options: [
                { text: "[Na+] ≈ 140 mEq/L y [K+] ≈ 4 mEq/L", correct: true },
                { text: "[Na+] ≈ 140 mEq/L y [K+] ≈ 140 mEq/L", correct: false },
                { text: "[Na+] ≈ 4 mEq/L y [K+] ≈ 140 mEq/L", correct: false },
                { text: "El CO2 circula principalmente como ácido carbónico no disociado", correct: false }
            ]
        },
        {
            text: "El trastorno ácido-base resultante de una hemorragia aguda intensa sin compensación es:",
            explanation: "La hipoperfusión y la hipoxia inducen producción de lactato y acidosis metabólica.",
            options: [
                { text: "Una acidosis metabólica", correct: true },
                { text: "Una acidosis respiratoria primaria", correct: false },
                { text: "Una alcalosis respiratoria primaria", correct: false },
                { text: "Una alcalosis metabólica primaria", correct: false },
                { text: "Ausencia de alteración del equilibrio ácido-base", correct: false }
            ]
        },
        {
            text: "En una acidosis respiratoria descompensada:",
            explanation: "En la acidosis respiratoria aumenta la pCO2; una forma de compensación es administrar bicarbonato para tamponar el exceso de H+.",
            options: [
                { text: "La perfusión con bicarbonato sódico puede ayudar a corregir el pH", correct: true },
                { text: "Respirar una atmósfera rica en CO2 es la mejor medida", correct: false },
                { text: "El equilibrio CO2 + H2O ⇌ H+ + HCO3− no se modifica", correct: false },
                { text: "La pCO2 está disminuida", correct: false }
            ]
        },
        {
            text: "Una solución de HCl tiene una concentración de 3,26 × 10⁻2 M. ¿Cuál es su pH aproximado?",
            explanation: "Para un ácido fuerte monoácido: pH = −log(3,26×10⁻2) ≈ 1,49.",
            options: [
                { text: "1,49", correct: true },
                { text: "12,5", correct: false },
                { text: "2,0", correct: false },
                { text: "3,3", correct: false }
            ]
        },
        {
            text: "En conjunto, ¿cuál es la principal fuente de ácido metabólico en el organismo?",
            explanation: "La oxidación de nutrientes produce CO2, que en agua da lugar a ácido carbónico; es la principal carga ácida diaria.",
            options: [
                { text: "El CO2 producido en el ciclo de los ácidos tricarboxílicos", correct: true },
                { text: "La ingesta de ácidos fuertes en la dieta", correct: false },
                { text: "La filtración de bicarbonato en el riñón", correct: false },
                { text: "La producción de amonio en el intestino", correct: false }
            ]
        },
        {
            text: "Mensaje final:",
            explanation: "Simplemente un mensaje de cierre del test.",
            options: [
                { text: "Gracias por la ayuda a todos los que han colaborado en estos apuntes", correct: true },
                { text: "Fin del test", correct: false }
            ]
        }
    ];

    function shuffle(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex !== 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [
                array[randomIndex], array[currentIndex]
            ];
        }
        return array;
    }

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        container.innerHTML = '';

        questions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';

            const title = document.createElement('div');
            title.className = 'question-title';
            title.textContent = (index + 1) + ". " + q.text;
            card.appendChild(title);

            const optionsList = document.createElement('ul');
            optionsList.className = 'options-list';

            const shuffledOptions = shuffle([...q.options]);

            shuffledOptions.forEach(opt => {
                const li = document.createElement('li');
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt.text;
                btn.dataset.correct = opt.correct ? "true" : "false";

                btn.onclick = () => checkAnswer(btn, optionsList, card, q.explanation);

                li.appendChild(btn);
                optionsList.appendChild(li);
            });

            card.appendChild(optionsList);

            const fb = document.createElement('div');
            fb.className = 'feedback';
            fb.textContent = q.explanation;
            card.appendChild(fb);

            container.appendChild(card);
        });
    }

    function checkAnswer(clickedBtn, list, card, explanation) {
        const buttons = list.querySelectorAll('.option-btn');

        buttons.forEach(b => {
            b.classList.add('disabled');
            if (b.dataset.correct === "true") {
                b.classList.add('correct');
            }
        });

        if (clickedBtn.dataset.correct !== "true") {
            clickedBtn.classList.add('incorrect');
        }

        const fb = card.querySelector('.feedback');
        fb.style.display = 'block';
    }

    renderQuiz();
</script>

</body>
</html>
